(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{46587:function(e,n,t){"use strict";t.r(n),t.d(n,{Graph:function(){return nr},GraphPage:function(){return er},default:function(){return Yt}});var r=t(30266),i=t(83789),o=t(92809),l=t(80318),s=t(809),c=t.n(s),a=t(97375),d=t(68527),u=t(47398),h=t(68921),g=t(105),f=t(27549),p=t(74376),x=t(52596),j=t(9008),v=t(67294),b=t(32802),y=t.n(b),m=t(47516),C=t(63750),O=t(31122),w=t(7520),k=t(36194),S=[],I={};for(var N in k.oY)for(var P in k.oY[N]){var D=N+P;"LinearNone"===D&&(D="Linear"),S.push(D),I[D]=k.oY[N][P]}var B=I,L={enabled:!0,charge:-700,collision:!0,collisionStrength:20,centering:!0,centeringStrength:.2,linkStrength:.3,linkIts:1,alphaDecay:.05,alphaTarget:0,alphaMin:0,velocityDecay:.25,gravity:.3,gravityOn:!0,gravityLocal:!1},T={orphans:!1,dailies:!1,parent:"heading",filelessCites:!1,tagsBlacklist:[],tagsWhitelist:[],dirsBlocklist:[],dirsAllowlist:[],bad:!0,nodes:[],links:[],date:[],noter:!0},F={method:"degree"},E={particles:!1,particlesNumber:0,particlesWidth:4,arrows:!1,arrowsLength:1,arrowsPos:.5,arrowsColor:"",linkOpacity:.8,linkWidth:1,nodeRel:3,nodeOpacity:1,nodeResolution:12,labels:2,labelScale:1.5,labelFontSize:10,labelLength:40,labelWordWrap:25,labelLineSpace:1,labelDynamicDegree:8,labelDynamicStrength:.5,highlight:!0,highlightNodeSize:1.1,highlightLinkSize:.7,highlightFade:.8,highlightAnim:!0,animationSpeed:360,algorithmOptions:S,algorithmName:"CircularOut",linkColorScheme:"gray.500",nodeColorScheme:["red.500","gray.600","yellow.500","green.500","cyan.500","blue.500","pink.500","purple.500","orange.500"],nodeHighlight:"purple.500",linkHighlight:"purple.500",backgroundColor:"white",emacsNodeColor:"gray.800",labelTextColor:"black",labelBackgroundColor:"",labelBackgroundOpacity:.7,citeDashes:!0,citeDashLength:35,citeGapLength:15,citeLinkColor:"gray.700",citeLinkHighlightColor:"",citeNodeColor:"black",refDashes:!0,refDashLength:35,refGapLength:15,refLinkColor:"gray.700",refLinkHighlightColor:"",refNodeColor:"black",nodeSizeLinks:.5,nodeZoomSize:1.2},z={follow:"zoom",localSame:"add",zoomPadding:200,zoomSpeed:2e3},R={highlight:"hover",local:"double",follow:"never",context:"right",preview:"click",backgroundExitsLocal:!1},Z={neighbors:1},H=["red.500","orange.500","yellow.500","green.500","cyan.500","blue.500","pink.500","purple.500","white","gray.100","gray.200","gray.300","gray.400","gray.500","gray.600","gray.700","gray.800","gray.900","black"],W=t(57324),A=t(90232),M=t(52072);function V(e,n,t){t.send(JSON.stringify({command:e,data:n}))}function _(e,n){V("open",{id:e.id},n)}var U=t(10219),q=t(44592),X=t(38554),G=t.n(X),Q=t(53869),J=t(99860);function K(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?K(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Y={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]};var ee=function(e,n){return $($({},e),{},{delay:(0,q.hj)(n)?n:null===n||void 0===n?void 0:n.enter})},ne=function(e,n){return $($({},e),{},{delay:(0,q.hj)(n)?n:null===n||void 0===n?void 0:n.exit})},te=t(85893),re=["in","unmountOnExit","animateOpacity","startingSize","endingSize","dimension","style","className","transition","transitionEnd"];function ie(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ie(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ie(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var le=function(e){return null!=e&&parseInt(e.toString(),10)>0},se={exit:{size:{duration:.2,ease:Y.ease},opacity:{duration:.3,ease:Y.ease}},enter:{size:{duration:.3,ease:Y.ease},opacity:{duration:.4,ease:Y.ease}}},ce={exit:function(e){var n,t,r=e.animateOpacity,i=e.startingSize,l=e.transition,s=e.transitionEnd,c=e.delay,a=e.dimension;return oe(oe({},r&&{opacity:le(i)?1:0}),{},(t={overflow:"hidden"},(0,o.Z)(t,a,i),(0,o.Z)(t,"transitionEnd",null===s||void 0===s?void 0:s.exit),(0,o.Z)(t,"transition",null!==(n=null===l||void 0===l?void 0:l.exit)&&void 0!==n?n:ne(se.exit,c)),t))},enter:function(e){var n,t,r=e.animateOpacity,i=e.endingSize,l=e.transition,s=e.transitionEnd,c=e.delay,a=e.dimension;return oe(oe({},r&&{opacity:1}),{},(t={},(0,o.Z)(t,a,i),(0,o.Z)(t,"transitionEnd",null===s||void 0===s?void 0:s.enter),(0,o.Z)(t,"transition",null!==(n=null===l||void 0===l?void 0:l.enter)&&void 0!==n?n:ee(se.enter,c)),t))}},ae=v.forwardRef((function(e,n){var t=e.in,r=e.unmountOnExit,i=e.animateOpacity,o=void 0===i||i,s=e.startingSize,c=void 0===s?0:s,a=e.endingSize,d=void 0===a?"auto":a,u=e.dimension,h=void 0===u?"height":u,g=e.style,f=e.className,p=e.transition,x=e.transitionEnd,j=(0,U.Z)(e,re),b=v.useState(!1),y=(0,l.Z)(b,2),m=y[0],C=y[1];v.useEffect((function(){var e=setTimeout((function(){C(!0)}));return function(){return clearTimeout(e)}}),[]),(0,q.ZK)({condition:Boolean(c>0&&r),message:"startingSize and unmountOnExit are mutually exclusive. You can't use them together"});var O=parseFloat(c.toString())>0,w={startingSize:c,endingSize:d,animateOpacity:o,dimension:h,transition:m?p:{enter:{duration:0}},transitionEnd:G()(x,{enter:{overflow:"initial"},exit:r?void 0:{display:O?"block":"none"}})},k=!r||t,S=t||r?"enter":"exit";return(0,te.jsx)(Q.M,{initial:!1,custom:w,children:k&&(0,te.jsx)(J.E.div,oe(oe({ref:n},j),{},{className:(0,q.cx)("chakra-collapse",f),style:oe({overflow:"hidden",display:"block"},g),custom:w,variants:ce,initial:!!r&&"exit",animate:S,exit:"exit"}))})}));function de(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?de(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):de(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}q.Ts&&(ae.displayName="Collapse");var he=function(e){var n=e.setTagColors,t=e.setFilter,r=e.filter,l=e.tagColors,s=e.target,c=r.tagsBlacklist,u=r.tagsWhitelist,h=c.indexOf(s)>-1,g=u.indexOf(s)>-1,f=(0,a.qY)();return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(W.sN,{icon:(0,te.jsx)(d.Box,{bgColor:l[s],borderRadius:"sm",height:3,width:3,borderColor:l[s]||"gray.600",borderWidth:1}),closeOnSelect:!1,onClick:f.onToggle,children:(0,te.jsx)(d.Text,{children:"Change color"})}),(0,te.jsx)(ae,{in:f.isOpen,children:(0,te.jsxs)(d.Flex,{ml:2,mt:2,flexWrap:"wrap",children:[(0,te.jsx)(d.Box,{children:(0,te.jsx)(d.Box,{tabIndex:0,cursor:"pointer",onClick:function(){return n((function(e){return Object.fromEntries(Object.keys(e).filter((function(e){return e!==s})).map((function(n){return[n,e[n]]})))}))},bgColor:"",m:1,borderRadius:"sm",borderColor:"gray.600",borderWidth:1,height:3,width:3})},"empty"),H.map((function(e){return(0,te.jsx)(d.Box,{children:(0,te.jsx)(d.Box,{tabIndex:0,cursor:"pointer",onClick:function(){return n(ue(ue({},l),{},(0,o.Z)({},s,e)))},bgColor:e,m:1,borderRadius:"sm",height:3,width:3})},e)}))]})}),!g&&(0,te.jsx)(W.sN,{onClick:function(){t(h?function(e){return ue(ue({},e),{},{tagsBlacklist:e.tagsBlacklist.filter((function(e){return e!==s}))})}:function(e){return ue(ue({},e),{},{tagsBlacklist:[].concat((0,i.Z)(e.tagsBlacklist),[s])})})},icon:h?(0,te.jsx)(M.MinusIcon,{}):(0,te.jsx)(M.ViewOffIcon,{}),children:h?"Remove from blocklist":"Add to blocklist"}),!h&&(0,te.jsx)(W.sN,{onClick:function(){t(g?function(e){return ue(ue({},e),{},{tagsWhitelist:e.tagsWhitelist.filter((function(e){return e!==s}))})}:function(e){return ue(ue({},e),{},{tagsWhitelist:[].concat((0,i.Z)(e.tagsWhitelist),[s])})})},icon:g?(0,te.jsx)(M.MinusIcon,{}):(0,te.jsx)(M.ViewIcon,{}),children:g?"Remove from allowlist":"Add to allowlist"})]})},ge=function(e){e.background;var n,t,r=e.target,i=(e.nodeType,e.coordinates),o=e.handleLocal,l=e.menuClose,s=e.scope,c=e.webSocket,u=e.setPreviewNode,g=e.setTagColors,f=e.tagColors,p=e.setFilter,x=e.filter,j=(0,a.qY)(),b=j.isOpen,y=j.onOpen,C=j.onClose;(0,v.useRef)();return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(W.v2,{defaultIsOpen:!0,closeOnBlur:!1,onClose:function(){return l()},children:(0,te.jsx)(W.qy,{zIndex:"overlay",bgColor:"white",color:"black",position:"absolute",left:i.left,top:i.top,right:i.right,bottom:i.bottom,fontSize:"xs",boxShadow:"xl",children:"string"!==typeof r?(0,te.jsxs)(te.Fragment,{children:[r&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(d.Heading,{size:"xs",isTruncated:!0,px:3,py:1,children:r.title}),(0,te.jsx)(W.R,{borderColor:"gray.500"})]}),0!==s.nodeIds.length&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(W.sN,{onClick:function(){return o(r,"add")},icon:(0,te.jsx)(M.PlusSquareIcon,{}),children:"Expand local graph at node"}),(0,te.jsx)(W.sN,{onClick:function(){return o(r,"replace")},icon:(0,te.jsx)(m.DvO,{}),children:"Open local graph for this node"}),(0,te.jsx)(W.sN,{onClick:function(){return o(r,"remove")},icon:(0,te.jsx)(M.MinusIcon,{}),children:"Exclude node from local graph"})]}),null!==r&&void 0!==r&&null!==(n=r.properties)&&void 0!==n&&n.FILELESS?(0,te.jsx)(W.sN,{icon:(0,te.jsx)(M.AddIcon,{}),onClick:function(){return function(e,n){V("create",{id:e.id,title:e.title,ref:e.properties.ROAM_REFS},n)}(r,c)},children:"Create node"}):(0,te.jsx)(W.sN,{icon:(0,te.jsx)(M.EditIcon,{}),onClick:function(){return _(r,c)},children:"Open in Emacs"}),(null===r||void 0===r||null===(t=r.properties)||void 0===t?void 0:t.ROAM_REFS)&&(0,te.jsx)(W.sN,{icon:(0,te.jsx)(M.ExternalLinkIcon,{}),children:"Open in Zotero"}),0===s.nodeIds.length&&(0,te.jsx)(W.sN,{icon:(0,te.jsx)(m.DvO,{}),onClick:function(){return o(r,"replace")},children:"Open local graph"}),(0,te.jsx)(W.sN,{icon:(0,te.jsx)(M.ViewIcon,{}),onClick:function(){u(r)},children:"Preview"}),0===(null===r||void 0===r?void 0:r.level)&&(0,te.jsx)(W.sN,{closeOnSelect:!1,icon:(0,te.jsx)(M.DeleteIcon,{color:"red.500"}),color:"red.500",onClick:y,children:"Permanently delete note"})]}):(0,te.jsx)(he,{target:r,tagColors:f,filter:x,setTagColors:g,setFilter:p})})}),"string"!==typeof r&&(0,te.jsxs)(A.u_,{isCentered:!0,isOpen:b,onClose:C,children:[(0,te.jsx)(A.ZA,{}),(0,te.jsxs)(A.hz,{zIndex:"popover",children:[(0,te.jsx)(A.xB,{children:"Delete node?"}),(0,te.jsx)(A.ol,{}),(0,te.jsx)(A.fe,{children:(0,te.jsxs)(d.VStack,{spacing:4,display:"flex",alignItems:"flex-start",children:[(0,te.jsx)(d.Text,{children:"This will permanently delete your note:"}),(0,te.jsx)(d.Text,{fontWeight:"bold",children:null===r||void 0===r?void 0:r.title}),0!==(null===r||void 0===r?void 0:r.level)&&(0,te.jsx)(d.Text,{children:"This will only delete the from this heading until but not including the next node. Your parent file and all other nodes will not be deleted."}),(0,te.jsx)(d.Text,{children:"Are you sure you want to do continue?"})]})}),(0,te.jsxs)(A.mz,{children:[(0,te.jsx)(h.Button,{mr:3,onClick:function(){console.log("closing"),C(),l()},children:"Cancel"}),(0,te.jsx)(h.Button,{variant:"link",colorScheme:"red",ml:3,onClick:function(){console.log("aaaaa"),function(e,n){0===e.level&&V("delete",{id:e.id,file:e.file},n)}(r,c),C(),l()},children:"Delete node"})]})]})]})]})},fe=t(5434),pe=t(51649),xe=function(e){var n=e.setJustification,t=(e.setIndent,e.setFont,e.justification),r=(e.setPreviewNode,e.canUndo),i=e.canRedo,o=(e.resetPreviewNode,e.previousPreviewNode),l=e.nextPreviewNode,s=e.outline,c=e.setOutline,a=e.collapse,g=e.setCollapse;return(0,te.jsxs)(d.Flex,{flex:"0 1 40px",pb:3,alignItems:"center",justifyContent:"space-between",pr:1,children:[(0,te.jsx)(d.Flex,{children:(0,te.jsxs)(h.ButtonGroup,{isAttached:!0,children:[(0,te.jsx)(u.u,{label:"Go backward",children:(0,te.jsx)(h.IconButton,{_focus:{},variant:"subtle",icon:(0,te.jsx)(M.ChevronLeftIcon,{}),"aria-label":"Previous node",disabled:!r,onClick:function(){return o()}})}),(0,te.jsx)(u.u,{label:"Go forward",children:(0,te.jsx)(h.IconButton,{_focus:{},variant:"subtle",icon:(0,te.jsx)(M.ChevronRightIcon,{}),"aria-label":"Next node",disabled:!i,onClick:function(){return l()}})})]})}),(0,te.jsxs)(d.Flex,{children:[(0,te.jsx)(u.u,{label:"Justify content",children:(0,te.jsx)(h.IconButton,{variant:"subtle","aria-label":"Justify content",icon:[(0,te.jsx)(m.v9V,{},"justify"),(0,te.jsx)(m.YSr,{},"left"),(0,te.jsx)(m.RXA,{},"right"),(0,te.jsx)(m.tr_,{},"center")][t],onClick:function(){return n((function(e){return(e+1)%4}))}})}),(0,te.jsx)(u.u,{label:"Toggle outline view",children:(0,te.jsx)(h.IconButton,{variant:"subtle","aria-label":"Justify content",icon:s?(0,te.jsx)(pe.XQM,{}):(0,te.jsx)(pe.JfF,{}),onClick:function(){return c((function(e){return!e}))}})}),(0,te.jsx)(u.u,{label:"Toggle headers",children:(0,te.jsx)(h.IconButton,{variant:"subtle","aria-label":"Toggle headers",icon:a?(0,te.jsx)(fe.omV,{}):(0,te.jsx)(fe.egf,{}),onClick:function(){return g((function(e){return!e}))}})})]})]})},je=t(96356);function ve(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function be(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ve(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ve(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ye=function(e){var n,t,r,o=e.filter,l=e.setFilter,s=e.tagColors,c=(e.setTagColors,e.openContextMenu),a=e.previewNode;return null!==a&&void 0!==a&&a.tags&&null!==(null===a||void 0===a||null===(n=a.tags)||void 0===n?void 0:n[0])?(0,te.jsx)(d.Flex,{mb:2,flexWrap:"wrap",children:null===a||void 0===a||null===(t=a.tags)||void 0===t||null===(r=t.map)||void 0===r?void 0:r.call(t,(function(e){var n,t,r,a=null!==(n=o.tagsBlacklist)&&void 0!==n?n:[],d=null!==(t=o.tagsWhitelist)&&void 0!==t?t:[],u=a.includes(e),h=d.includes(e);return(0,te.jsxs)(je.Tag,{tabIndex:0,mr:2,mt:2,onContextMenu:function(n){n.preventDefault(),c(e,n)},cursor:"pointer",onClick:function(){l(u?function(n){return be(be({},n),{},{tagsBlacklist:n.tagsBlacklist.filter((function(n){return n!==e})),tagsWhitelist:[].concat((0,i.Z)(n.tagsWhitelist),[e])})}:h?function(n){return be(be({},n),{},{tagsWhitelist:n.tagsWhitelist.filter((function(n){return n!==e}))})}:function(n){return be(be({},n),{},{tagsBlacklist:[].concat((0,i.Z)(n.tagsBlacklist),[e])})})},size:"sm",variant:"outline",colorScheme:(null===(r=s[e])||void 0===r?void 0:r.replaceAll(/(.*?)\..*/g,"$1"))||void 0,children:[(0,te.jsx)(je.TagLabel,{children:e}),u?(0,te.jsx)(je.TagRightIcon,{as:M.ViewOffIcon}):h?(0,te.jsx)(je.TagRightIcon,{as:M.ViewIcon}):null]},e)}))}):null},me=t(18835),Ce=t.n(me),Oe=t(13816),we=t.n(Oe),ke=t(42728),Se=t.n(ke),Ie=t(77890),Ne=t.n(Ie),Pe=t(94986),De=t.n(Pe),Be=t(88541),Le=t.n(Be),Te=t(71167),Fe=t.n(Te),Ee=(t(85062),t(27431)),ze=t.n(Ee),Re=t(12861),Ze=t.n(Re),He=t(10043),We=t.n(He),Ae=t(80816),Me=t(93545),Ve=t.n(Me),_e=t(15941),Ue=t.n(_e),qe=t(67597),Xe=t.n(qe),Ge=t(44549),Qe=t.n(Ge),Je=t(78818),Ke=t.n(Je),$e=t(32095),Ye=t(46871),en=t(29356),nn={".headingFlex":{flexDirection:"row-reverse",justifyContent:"flex-end"},".outlineHeadingButton":{display:"none"},h1:{color:"black",lineHeight:"1.2",fontSize:"16",fontWeight:"bold",paddingTop:2},h2:{fontSize:"14",color:"black",fontWeight:"bold",fontStyle:"bold italic",paddingTop:2},h3:{fontSize:"13",color:"black",paddingTop:2},h4:{fontSize:"12",fontStyle:"italic",color:"black",paddingTop:2},".sectionContent":{paddingTop:2}},tn={".headingFlex":{flexDirection:"row",justifyContent:"flex-start"},".viewerHeadingButton":{display:"none"},".sectionContent":{mt:3,paddingLeft:4,ml:"11px",borderLeftWidth:"1px",borderLeftColor:"gray.500"},".preHeadingContent":{},"h1,h2,h3,h4,h5,h6,h7,h8":{pl:1,lineHeight:"1.25",color:"black",fontSize:15,fontWeight:700},".sec":{pt:1},".wrapClass > div > p":{mb:2},p:{fontWeight:500,fontSize:14,pb:2}},rn={".katex":{overflowX:"scroll"},ol:{paddingLeft:4,py:1},"li::marker":{fontSize:12,fontWeight:"bold"},li:{pt:1},ul:{paddingLeft:"5"},p:{fontSize:"14",fontWeight:"500 !important",pb:2},div:{hyphens:"auto !important"},".title":{textAlign:"center",marginBottom:".2em"},".subtitle":{textAlign:"center",fontSize:"medium",fontWeight:"bold",marginTop:0},".TODO":{color:"red.500"},".equationContainer":{display:"table",textAlign:"center",width:"100%"},".equation":{verticalAlign:"middle"},".equation-label":{display:"tableCell",textAlign:"right",verticalAlign:"middle"},".inlinetask":{padding:"10px",border:"2px solid gray",margin:"10px",background:"#ffffcc"},"#org-div-home-and-up":{textAlign:"right",fontSize:"70 % ",whiteSpace:"nowrap"},textarea:{overflowX:"auto"},".linenr":{fontSize:"smaller"},".org-info-js_info-navigation":{borderStyle:"none"},"#org-info-js_console-label":{fontSize:"10px",fontWeight:"bold",whiteSpace:"nowrap"},".org-info-js_search-highlight":{backgroundColor:"#ffff00",color:"#000000",fontWeight:"bold"},".org-svg":{width:"90%"},".DONE":{color:"green"},".priority":{fontFamily:"monospace",color:"orange"},".tag":{backgroundColor:"white",fontFamily:"monospace",padding:"2px",fontSize:"80%",fontWeight:"normal"},".timestamp":{color:"#bebebe"},".timestamp-kwd":{color:"#5f9ea0"},".org-right":{marginLeft:"auto",marginRight:"0px",textAlign:"right"},".org-left":{marginLeft:"0px",marginRight:"auto",textAlign:"left"},".org-center":{marginLeft:"auto",marginRight:"auto",textAlign:"center"},".underline":{textDecoration:"underline"},"#postamble p":{fontSize:"90%",margin:".2em"},"#preamble p":{fontSize:"90%",margin:".2em"},"p.verse":{marginLeft:"3%"},pre:{borderRadius:"3px",backgroundColor:"white",padding:"8pt",fontFamily:"monospace",overflow:"auto",margin:"1.2em"},"pre.src":{position:"relative",overflow:"auto"},"pre.src:before":{display:"none",position:"absolute",top:"-8px",right:"12px",padding:"3px",backgroundColor:"white"},"caption.t-above":{captionSide:"top"},"caption.t-bottom":{captionSide:"bottom"},"th.org-right":{textAlign:"center"},"th.org-left":{textAlign:"center"},"th.org-center":{textAlign:"center"},"td.org-right":{textAlign:"right"},"td.org-left":{textAlign:"left"},"td.org-center":{textAlign:"center"},".footpara":{display:"inline"},".footdef":{marginBottom:"1em"},".figure":{padding:"1em"},".figure p":{textAlign:"center"},".math.math-display .katex":{overflow:"auto",minHeight:"1.5em"}},on=t(86658),ln=function(e,n){return e.split(".").reduce((function(e,n){return e[n]}),n.colors)},sn=["style"];function cn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function an(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?cn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var dn=function(e){var n=e.noUnderline,t=e.id,r=e.setSidebarHighlightedNode,i=e.setPreviewNode,o=e.nodeById,l=e.openContextMenu,s=e.href,c=e.children,a=e.isWiki,u=(0,v.useContext)(en.N).highlightColor,h=(0,g.Fg)(),f=ln(u,h),p=(s.replaceAll(/(.*?)\:?.*/g,"$1"),s.replaceAll(/.*?\:(.*)/g,"$1")),x=null!==t&&void 0!==t?t:p,j=a?"[[".concat(c,"]]"):c;return(0,te.jsx)(d.Text,{as:"a",onMouseEnter:function(){return r(o[x])},onMouseLeave:function(){return r({})},tabIndex:0,display:"inline",overflow:"hidden",fontWeight:500,color:u,textDecoration:n?void 0:"underline",onContextMenu:function(e){e.preventDefault(),l(o[p],e)},onClick:function(){return i(o[p])},_hover:{textDecoration:"none",cursor:"pointer",bgColor:f+"22"},_focus:{outlineColor:u},children:j})},un=function(e){var n=e.href,t=e.children,r=(0,v.useContext)(en.N).highlightColor;return(0,te.jsxs)(d.Link,{color:r,isExternal:!0,href:n,children:[t,(0,te.jsx)(M.ExternalLinkIcon,{mx:"1px",pb:"2px"})]})},hn=function(e){var n,t=e.href,r=e.children,i=e.nodeById,o=e.setSidebarHighlightedNode,l=e.previewNode,s=e.setPreviewNode,c=e.nodeByCite,a=e.openContextMenu,u=e.outline,h=e.noUnderline,g=e.linksByNodeId,f=e.isWiki,p=e.macros,x=e.attachDir,j=e.useInheritance,b=(0,v.useState)(null),y=b[0],m=b[1],C=(0,v.useState)(!1),O=C[0],w=C[1],k=t.replaceAll(/(.*?)\:.*/g,"$1"),S=u?tn:nn;console.log(l);if((0,v.useEffect)((function(){k.replaceAll(/(http)?.*/g,"$1")||y||O&&fetch("node/".concat(L)).then((function(e){return e.text()})).then((function(e){"error"===e||m(e)})).catch((function(e){return console.log(e),"Could not fetch the text for some reason, sorry!\n\n This can happen because you have an id with forward slashes (/) in it."}))}),[O,y]),!k)return(0,te.jsx)(d.Text,{color:"gray.700",children:r});if(k.replaceAll(/(http)?.*/g,"$1"))return(0,te.jsx)(un,{href:t,children:r});var I,N,P,D,B=t.replaceAll(/.*?\:(.*)/g,"$1"),L=function(e,n){if("id"===e)return n;if(e.includes("cite")){var t,r=null!==(t=c[n])&&void 0!==t&&t;return r?null!==r&&void 0!==r&&r.properties.FILELESS?"":null===r||void 0===r?void 0:r.id:""}return""}(k,B);encodeURIComponent(encodeURIComponent(null===(n=i[L])||void 0===n?void 0:n.file));return L?(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)($e.J2,{gutter:12,trigger:"hover",placement:"top-start",children:[(0,te.jsx)($e.xo,{children:(0,te.jsx)(d.Box,{display:"inline",onMouseEnter:function(){return w(!0)},onMouseLeave:function(){return w(!1)},children:(0,te.jsx)(dn,{id:L,setSidebarHighlightedNode:o,setPreviewNode:s,nodeById:i,href:t,children:r,nodeByCite:c,openContextMenu:a,noUnderline:h,isWiki:f},null!==(I=null===(N=i[L])||void 0===N?void 0:N.title)&&void 0!==I?I:L)})}),(0,te.jsx)(Ye.h_,{children:(0,te.jsxs)($e.yk,{transform:"scale(1)",boxShadow:"xl",position:"relative",zIndex:"tooltip",onMouseEnter:function(){var e;o(null!==(e=i[L])&&void 0!==e?e:{})},onMouseLeave:function(){o({})},children:[(0,te.jsx)($e.QH,{}),(0,te.jsx)($e.b,{pb:5,fontSize:"xs",position:"relative",zIndex:"tooltip",transform:"scale(1)",width:"100%",children:(0,te.jsx)(on.$B,{autoHeight:!0,autoHeightMax:300,autoHide:!0,renderThumbVertical:function(e){var n=e.style,t=(0,U.Z)(e,sn);return(0,te.jsx)(d.Box,an({style:an(an({},n),{},{borderRadius:0})},t))},children:(0,te.jsx)(d.Box,{w:"100%",color:"black",px:3,sx:an(an({},rn),S),children:(0,te.jsx)(On,{previewText:y,nodeById:i,setSidebarHighlightedNode:o,setPreviewNode:s,nodeByCite:c,openContextMenu:a,outline:u,linksByNodeId:g,macros:p,attachDir:x,useInheritance:j,previewNode:i[L],collapse:!1})})})})]},null!==(P=null===(D=i[L])||void 0===D?void 0:D.title)&&void 0!==P?P:L)})]})}):(0,te.jsx)(d.Text,{as:"span",display:"inline",className:t,color:"base.700",cursor:"not-allowed",children:r})},gn=t(25675),fn=t(62520),pn=t.n(fn),xn=function(e){var n=e.src,t=e.file;if(n.replaceAll(/(http)?.*/g,"$1"))return console.log(n.replaceAll(/(http)?.*/g,"$1")),(0,te.jsx)(gn.default,{layout:"responsive",loader:function(e){var n=e.src;return e.width,e.quality,"".concat(n)},src:n,alt:"",width:"auto",height:"auto"});var r=n.replaceAll(/file:/g,""),i=pn().dirname(t),o=pn().isAbsolute(r)||"~"===r.slice(0,1)?r:pn().join(i,r),l=encodeURIComponent(encodeURIComponent(o));return(0,te.jsx)(d.Container,{my:4,position:"relative",children:(0,te.jsx)("img",{alt:"Wow, an image.",src:"http://localhost:35901/img/".concat(l)})})},jn=t(14578),vn=(0,v.createContext)({outline:!1,collapse:!0}),bn=function(e){var n=e.children,t=e.className,r=(0,v.useState)(!0),i=r[0],o=r[1],l=(0,v.useContext)(vn).collapse;if((0,v.useEffect)((function(){o(!l)}),[l]),"h0Wrapper headingWrapper"===t)return(0,te.jsxs)(d.Box,{className:"preHeadingContent",children:[" ",n]});var s=n;return(0,te.jsxs)(d.Box,{className:"sec",children:[(0,te.jsx)(d.Box,{display:"block",children:(0,te.jsxs)(d.Flex,{className:"headingFlex",alignItems:"baseline",children:[i&&s.length>0?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(h.IconButton,{className:"viewerHeadingButton",_focus:{},_active:{},"aria-label":"Expand heading",size:"xs",variant:"subtle",icon:(0,te.jsx)(M.ChevronUpIcon,{}),onClick:function(){return o(!i)},height:2,width:2}),(0,te.jsx)(h.IconButton,{className:"outlineHeadingButton",_focus:{},_active:{},"aria-label":"Expand heading",size:"xs",variant:"subtle",icon:(0,te.jsx)(jn.zOz,{}),onClick:function(){return o(!i)},height:2,width:2})]}):(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(h.IconButton,{className:"viewerHeadingButton",_active:{},_focus:{},"aria-label":"Collapse heading",height:2,width:2,size:"xs",variant:"subtle",icon:(0,te.jsx)(M.ChevronDownIcon,{}),onClick:function(){return o(!i)}}),(0,te.jsx)(h.IconButton,{className:"outlineHeadingButton",_active:{},_focus:{},"aria-label":"Collapse heading",height:2,width:2,size:"xs",variant:"subtle",icon:(0,te.jsx)(jn.O6Y,{}),onClick:function(){return o(!i)}})]}),s[0]]})}),i&&(0,te.jsx)(d.Box,{className:"sectionContent",children:s.slice(1)})]})};function yn(e){return["object"===typeof e.source?e.source.id:e.source,"object"===typeof e.target?e.target.id:e.target]}function mn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Cn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var On=function(e){var n,t,r=e.nodeById,i=e.setSidebarHighlightedNode,l=e.setPreviewNode,s=e.previewText,c=e.nodeByCite,a=e.previewNode,u=e.openContextMenu,h=e.outline,f=e.collapse,p=e.linksByNodeId,x=e.macros,j=e.attachDir,b=e.useInheritance;if(!a||!p)return null;var y=Ce()().use(we()).use(De()).use(Le(),{idDir:j||void 0,useInheritance:b}).use(Ne()).use(Se(),{useSections:!0}),m=(null===(n=p[null===a||void 0===a?void 0:a.id])||void 0===n?void 0:n.reduce((function(e,n){var t=yn(n).filter((function(e){return e!==a.id})).join("");return Cn(Cn({},e),{},(0,o.Z)({},t,r[t]))}),{}))||{},C=Object.entries(m),O=Ce()().use(Ze()).use(Ue(),["yaml"]).use(Xe()).use(Ae.Z,{permaLinks:Object.keys(m),pageResolver:function(e){var n,t=C.find((function(n){var t;return(null===n||void 0===n||null===(t=n[1])||void 0===t?void 0:t.title)===e}));return[null!==(n=null===t||void 0===t?void 0:t[0])&&void 0!==n?n:""]},hrefTemplate:function(e){return"id:".concat(e)}}).use(Qe()).use(Ve()).use(We()).use(Ke()),w=".md"===(null===a||void 0===a||null===(t=a.file)||void 0===t?void 0:t.slice(-3)),k=w?O:y,S=(0,v.useMemo)((function(){return k.use(Fe(),{trust:function(e){return["\\htmlId","\\href"].includes(e.command)},macros:Cn({"\\eqref":"\\href{###1}{(\\text{#1})}","\\ref":"\\href{###1}{\\text{#1}}","\\label":"\\htmlId{#1}{}"},x)}).use(ze(),{createElement:v.createElement,components:{a:function(e){var n=e.children,t=e.href;return(0,te.jsx)(hn,{nodeByCite:c,setSidebarHighlightedNode:i,href:"".concat(t),nodeById:r,linksByNodeId:p,setPreviewNode:l,openContextMenu:u,outline:h,previewNode:a,isWiki:w,macros:x,attachDir:j,useInheritance:b,children:n})},img:function(e){var n=e.src;return(0,te.jsx)(xn,{src:n,file:null===a||void 0===a?void 0:a.file})},section:function(e){var n=e.children,t=e.className;return t&&t.slice(-1)==="".concat(a.level)?(0,te.jsx)(d.Box,{children:n.slice(1)}):(0,te.jsx)(bn,{outline:h,collapse:f,className:t,children:n})},blockquote:function(e){var n=e.children;return(0,te.jsx)(g.m$.blockquote,{color:"gray.800",bgColor:"gray.300",pt:4,pb:2,mb:4,mt:3,pl:4,borderLeftWidth:4,borderLeftColor:"gray.700",children:n})},p:function(e){var n=e.children;return(0,te.jsx)("p",{lang:"en",children:n})}}})}),[null===a||void 0===a?void 0:a.id]),I=(0,v.useMemo)((function(){return S.processSync(s).result}),[s]);return(0,te.jsx)(vn.Provider,{value:{collapse:f,outline:h},children:I})},wn=function(e){var n=e.openContextMenu,t=e.setSidebarHighlightedNode,r=e.nodeById,i=e.nodeByCite,o=e.previewNode,l=e.setPreviewNode,s=e.outline,c=e.collapse,a=e.linksByNodeId,d=e.macros,u=e.attachDir,h=e.useInheritance,g=(0,v.useState)(""),f=g[0],p=g[1],x=encodeURIComponent(encodeURIComponent(o.id));return(0,v.useEffect)((function(){fetch("node/".concat(x)).then((function(e){return e.text()})).then((function(e){if(""===e)return"(empty node)";"error"!==e&&(console.log(e),p(e))})).catch((function(e){return p("(could not find node)"),console.log(e),"Could not fetch the text for some reason, sorry!\n\n This can happen because you have an id with forward slashes (/) in it."}))}),[o.id]),(0,te.jsx)(te.Fragment,{children:f&&o&&(0,te.jsx)(On,{nodeById:r,previewNode:o,setPreviewNode:l,previewText:f,nodeByCite:i,setSidebarHighlightedNode:t,openContextMenu:n,outline:s,collapse:c,linksByNodeId:a,attachDir:u,useInheritance:h,macros:d||{}})})},kn=function(e){var n,t=e.previewNode,r=e.setPreviewNode,i=e.setSidebarHighlightedNode,o=e.nodeById,s=e.linksByNodeId,c=e.nodeByCite,a=e.openContextMenu,u=e.outline,h=e.macros,g=e.attachDir,f=e.useInheritance,p=(null!==(n=s[null===t||void 0===t?void 0:t.id])&&void 0!==n?n:[]).filter((function(e){var n=yn(e),r=(0,l.Z)(n,2),i=r[0];r[1];return i!==(null===t||void 0===t?void 0:t.id)})).map((function(e){return e.source}));return(0,te.jsxs)(d.Box,{className:"backlinks",borderRadius:"sm",mt:6,p:4,bg:"white",mb:10,children:[(0,te.jsx)("p",{style:{fontSize:16,fontWeight:600},children:"Linked references (".concat(p.length,")")}),(0,te.jsx)(d.VStack,{py:2,spacing:3,alignItems:"start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:(null===t||void 0===t?void 0:t.id)&&p.map((function(e){var n,l,p;n=null===(l=o[e])||void 0===l?void 0:l.title;return(0,te.jsx)(d.Box,{overflow:"hidden",py:1,borderRadius:"sm",width:"100%",children:(0,te.jsx)(hn,{linksByNodeId:s,nodeByCite:c,setSidebarHighlightedNode:i,href:"id:".concat(e),nodeById:o,previewNode:t,setPreviewNode:r,openContextMenu:a,outline:u,noUnderline:!0,attachDir:g,useInheritance:f,macros:h,children:null===(p=o[e])||void 0===p?void 0:p.title})},e)}))})]})};function Sn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function In(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Sn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Nn=function(e){var n=e.setPreviewNode,t=e.justificationList,r=e.justification,i=e.previewNode,o=e.nodeById,l=e.nodeByCite,s=e.setSidebarHighlightedNode,c=e.linksByNodeId,a=e.openContextMenu,u=e.outline,h=e.collapse,g=e.macros,f=e.attachDir,p=e.useInheritance,x=u?tn:nn;return(0,te.jsx)(d.Box,{pr:8,pt:2,height:"100%",className:"org",sx:In(In(In({},rn),x),{},{textAlign:t[r]}),children:(null===i||void 0===i?void 0:i.id)&&(0,te.jsxs)(d.Flex,{className:"wrapClass",height:"100%",flexDirection:"column",justifyContent:"space-between",children:[(0,te.jsx)(wn,{setPreviewNode:n,previewNode:i,nodeByCite:l,setSidebarHighlightedNode:s,openContextMenu:a,outline:u,collapse:h,nodeById:o,linksByNodeId:c,macros:g,attachDir:f,useInheritance:p}),(0,te.jsx)(kn,{setPreviewNode:n,previewNode:i,nodeById:o,linksByNodeId:c,nodeByCite:l,setSidebarHighlightedNode:s,openContextMenu:a,outline:u,attachDir:f,useInheritance:p,macros:g||{}})]})})},Pn=function(e){var n=e.previewNode;return(0,te.jsx)(d.Flex,{maxW:"90%",children:(0,te.jsx)(d.Heading,{lineHeight:1.2,size:"md",fontWeight:600,pt:4,children:null===n||void 0===n?void 0:n.title})})},Dn=t(29119);function Bn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ln(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Bn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Tn(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Fn(e,null!==(t=r.storage)&&void 0!==t?t:localStorage),o=i.get(),l=void 0!==o?o:n,s=null!=o&&"object"===typeof o&&!1===Array.isArray(o)?Ln(Ln({},n),o):l;s!==o&&i.update(s);var c=(0,v.useState)(s),a=c[0],d=c[1];(0,v.useEffect)((function(){a!==s&&d(s)}),[e]);var u=function(e){e instanceof Function?d((function(n){var t=e(n);return i.update(t),t})):(d(e),i.update(e))};return[a,u]}function Fn(e,n){return{get:function(){var t=n.getItem(e);if(t&&"undefined"!==t)return JSON.parse(t)},update:function(t){n.setItem(e,JSON.stringify(t))},remove:function(){n.removeItem(e)}}}var En=["style"];function zn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Rn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Zn=function(e){var n=e.isOpen,t=e.onOpen,r=e.onClose,i=e.previewNode,o=e.setPreviewNode,s=e.nodeById,c=e.linksByNodeId,a=e.nodeByCite,u=e.setSidebarHighlightedNode,g=e.canUndo,f=e.canRedo,p=e.resetPreviewNode,x=e.previousPreviewNode,j=e.nextPreviewNode,b=e.openContextMenu,y=(e.scope,e.setScope,e.windowWidth),C=e.filter,O=e.setFilter,w=e.tagColors,k=e.setTagColors,S=e.macros,I=e.attachDir,N=e.useInheritance,P=((0,v.useContext)(en.N).highlightColor,(0,v.useState)()),D=P[0],B=P[1],L=Tn("sidebarWidth",400),T=(0,l.Z)(L,2),F=T[0],E=T[1];(0,v.useEffect)((function(){null!==i&&void 0!==i&&i.id?(t(),B(i)):r()}),[null===i||void 0===i?void 0:i.id]);var z=Tn("justification",1),R=(0,l.Z)(z,2),Z=R[0],H=R[1],W=Tn("outline",!1),A=(0,l.Z)(W,2),M=A[0],V=A[1],_=(0,v.useState)("sans serif"),q=(_[0],_[1]),X=(0,v.useState)(0),G=(X[0],X[1]),Q=(0,v.useState)(!1),J=Q[0],K=Q[1];return(0,te.jsx)(ae,{animateOpacity:!1,dimension:"width",in:n,unmountOnExit:!0,startingSize:0,style:{height:"100vh"},children:(0,te.jsx)(Dn.e,{size:{height:"100vh",width:F},onResizeStop:function(e,n,t,r){E((function(e){return e+r.width}))},enable:{top:!1,right:!1,bottom:!1,left:!0,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},minWidth:"220px",maxWidth:y-200,children:(0,te.jsxs)(d.Flex,{flexDir:"column",h:"100vh",pl:2,color:"black",bg:"alt.100",width:"100%",children:[(0,te.jsxs)(d.Flex,{pl:2,alignItems:"center",color:"black",width:"100%",children:[(0,te.jsx)(d.Flex,{pt:1,flexShrink:0,children:(0,te.jsx)(xe,{setJustification:H,setIndent:G,setFont:q,justification:Z,setPreviewNode:o,canUndo:g,canRedo:f,resetPreviewNode:p,previousPreviewNode:x,nextPreviewNode:j,outline:M,setOutline:V,collapse:J,setCollapse:K})}),(0,te.jsx)(d.Flex,{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",onContextMenu:function(e){e.preventDefault(),b(i,e)}}),(0,te.jsx)(d.Flex,{flexDir:"row",ml:"auto",children:(0,te.jsx)(h.IconButton,{m:1,icon:(0,te.jsx)(m.T41,{}),"aria-label":"Options",variant:"subtle",onClick:function(e){b(i,e,{left:void 0,top:12,right:20-y,bottom:void 0})}})})]}),(0,te.jsx)(on.$B,{autoHide:!0,renderThumbVertical:function(e){var n=e.style,t=(0,U.Z)(e,En);return(0,te.jsx)(d.Box,Rn({style:Rn(Rn({},n),{},{borderRadius:0})},t))},children:D&&(0,te.jsxs)(d.VStack,{flexGrow:1,alignItems:"left",bg:"alt.100",paddingLeft:4,children:[(0,te.jsx)(Pn,{previewNode:D}),(0,te.jsx)(ye,{filter:C,setFilter:O,tagColors:w,setTagColors:k,openContextMenu:b,previewNode:i}),(0,te.jsx)(Nn,{setPreviewNode:o,previewNode:i,nodeById:s,nodeByCite:a,setSidebarHighlightedNode:u,justification:Z,justificationList:["justify","start","end","center"],linksByNodeId:c,openContextMenu:b,outline:M,setOutline:V,collapse:J,macros:S,attachDir:I,useInheritance:N})]})})]})})})},Hn=t(94090),Wn=t(88696),An=t(47647);function Mn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Vn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Mn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _n=function(e){var n,t=e.filter,r=e.listName,i=e.labelFilter,l=e.displayName,s=e.setFilter,c=e.options,a=void 0===c?[]:c,d=(0,v.useContext)(en.N).highlightColor,u=(null===a||void 0===a?void 0:a.map((function(e){return{value:e,label:i?e.replace(i,""):e}})))||[],h=(0,v.useState)((null===(n=t[r])||void 0===n?void 0:n.map((function(e){return{value:e,label:i?null===e||void 0===e?void 0:e.replace(i,""):e}})))||[]),g=h[0],f=h[1];return(0,te.jsx)(An.CUIAutoComplete,{labelStyleProps:{fontWeight:300,fontSize:14},items:u,label:"Add tag to ".concat(l),placeholder:" ",onCreateItem:function(e){return null},disableCreateItem:!0,selectedItems:g,onSelectedItemsChange:function(e){e.selectedItems&&(f(e.selectedItems),s(Vn(Vn({},t),{},(0,o.Z)({},r,e.selectedItems.map((function(e){return e.value}))))))},listItemStyleProps:{overflow:"hidden"},highlightItemBg:"gray.400",toggleButtonStyleProps:{variant:"outline"},inputStyleProps:{mt:2,height:8,focusBorderColor:d,color:"gray.800",borderColor:"gray.500"},tagStyleProps:{justifyContent:"flex-start",fontSize:10,borderColor:d,borderWidth:1,borderRadius:"md",color:d,bg:"",height:4,mb:2},hideToggleButton:!0,itemRenderer:function(e){return e.label}})};function Un(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function qn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Un(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Un(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Xn=function(e){var n=e.colorList,t=e.tagColors,r=e.setTagColors,i=e.highlightColor,l=e.tags.map((function(e){return{value:e,label:e}})),s=(0,v.useState)(Object.keys(t).map((function(e){return{value:e,label:e}}))),c=s[0],a=s[1];return(0,te.jsxs)(d.Box,{children:[(0,te.jsx)(An.CUIAutoComplete,{items:l,labelStyleProps:{fontWeight:300,fontSize:14},label:"Add tag to color",placeholder:" ",disableCreateItem:!0,selectedItems:c,onSelectedItemsChange:function(e){e.selectedItems&&(a(Array.from(new Set(e.selectedItems))),r(Object.fromEntries(Array.from(new Set(e.selectedItems)).map((function(e){var n;return[e.label,null!==(n=t[e.label])&&void 0!==n?n:"gray.600"]})))))},listItemStyleProps:{overflow:"hidden"},highlightItemBg:"gray.400",toggleButtonStyleProps:{variant:"outline"},inputStyleProps:{height:8,focusBorderColor:i,color:"gray.800",borderColor:"gray.500"},tagStyleProps:{display:"none",rounded:"full",bg:i,height:8,paddingLeft:4,fontWeight:"bold"},hideToggleButton:!0,itemRenderer:function(e){return e.label}}),(0,te.jsx)(d.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:Object.keys(t).map((function(e){return(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",width:"100%",pl:2,children:[(0,te.jsx)(d.Box,{width:"100%",children:(0,te.jsx)(d.Text,{children:e})}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",children:[(0,te.jsx)(W.j2,{as:h.Button,colorScheme:"",color:"black",children:(0,te.jsx)(d.Box,{bgColor:t[e],borderRadius:"sm",height:6,width:6})}),(0,te.jsx)(Ye.h_,{children:(0,te.jsx)(W.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:n.map((function(n){return(0,te.jsx)(W.sN,{onClick:function(){return r(qn(qn({},t),{},(0,o.Z)({},e,n)))},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,te.jsx)(d.Box,{bgColor:n,borderRadius:"sm",height:6,width:6})},n)}))})})]}),(0,te.jsx)(h.IconButton,{"aria-label":"Delete tag color",variant:"ghost",icon:(0,te.jsx)(M.DeleteIcon,{}),onClick:function(){r(Object.fromEntries(Array.from(new Set(c)).map((function(e){var n;return[e.label,null!==(n=t[e.label])&&void 0!==n?n:"gray.600"]})))),a(c.filter((function(n){return n.value!==e})))}})]},e)}))})]})},Gn=t(80918),Qn=function(e){var n=e.infoText;return(0,te.jsx)(d.Box,{paddingLeft:"1",children:(0,te.jsx)(u.u,{label:n,placement:"top",color:"gray.100",bg:"gray.800",hasArrow:!0,children:(0,te.jsx)(M.InfoOutlineIcon,{})})})},Jn=["min","max","step","value"],Kn=function(e){var n=e.min,t=void 0===n?0:n,r=e.max,i=void 0===r?10:r,o=e.step,l=void 0===o?.1:o,s=e.value,c=void 0===s?1:s,a=(0,U.Z)(e,Jn),h=a.onChange,g=a.label,f=a.infoText,p=(0,v.useContext)(en.N).highlightColor;return(0,te.jsxs)(d.Box,{pt:1,pb:2,children:[(0,te.jsxs)(d.Box,{display:"flex",alignItems:"flex-end",mb:2,children:[(0,te.jsx)(d.Text,{children:g}),f&&(0,te.jsx)(Qn,{infoText:f})]}),(0,te.jsxs)(Gn.iR,{value:c,onChange:h,min:t,max:i,step:l,children:[(0,te.jsx)(Gn.Uj,{children:(0,te.jsx)(Gn.Ms,{})}),(0,te.jsx)(u.u,{bg:p,label:c.toFixed(1),children:(0,te.jsx)(Gn.gs,{bg:"white"})})]})]},g)},$n=(0,v.createContext)({subDirs:["dailies",".attach"],attachDir:".attach",useInheritance:!1,roamDir:"~/org",dailyDir:"dailies"});function Yn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function et(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Yn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var nt=function(e){var n=e.filter,t=e.setFilter,r=e.local,i=e.setLocal,o=e.tagColors,l=e.setTagColors,s=e.highlightColor,c=e.colorList,a=e.tags,u=(0,v.useContext)($n),g=u.roamDir,f=u.subDirs;return(0,te.jsxs)(d.Box,{children:[(0,te.jsxs)(d.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.500"}),align:"stretch",paddingLeft:7,color:"gray.800",children:[(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Link children to"}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",children:[(0,te.jsx)(W.j2,{as:h.Button,rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),colorScheme:"",color:"black",size:"sm",children:function(){switch(n.parent){case"parent":return(0,te.jsx)(d.Text,{children:"File"});case"heading":return(0,te.jsx)(d.Text,{children:"Heading"});default:return(0,te.jsx)(d.Text,{children:"Nothing"})}}()}),(0,te.jsx)(Ye.h_,{children:(0,te.jsxs)(W.qy,{bgColor:"gray.200",zIndex:"popover",children:[(0,te.jsx)(W.sN,{onClick:function(){return t((function(e){return et(et({},e),{},{parent:""})}))},children:"Nothing"}),(0,te.jsx)(W.sN,{onClick:function(){return t((function(e){return et(et({},e),{},{parent:"parent"})}))},children:"Parent file node"}),(0,te.jsx)(W.sN,{onClick:function(){return t((function(e){return et(et({},e),{},{parent:"heading"})}))},children:"Next highest heading node"})]})})]})]}),(0,te.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Orphans"}),(0,te.jsx)(Wn.r,{onChange:function(){t((function(e){return et(et({},e),{},{orphans:!e.orphans})}))},isChecked:n.orphans})]}),(0,te.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Dailies"}),(0,te.jsx)(Wn.r,{onChange:function(){t((function(e){return et(et({},e),{},{dailies:!e.dailies})}))},isChecked:n.dailies})]}),(0,te.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Org-noter pages"}),(0,te.jsx)(Wn.r,{onChange:function(){t((function(e){return et(et({},e),{},{noter:!e.noter})}))},isChecked:n.noter})]}),(0,te.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Citations without note files"}),(0,te.jsx)(Wn.r,{onChange:function(){t(et(et({},n),{},{filelessCites:!n.filelessCites}))},isChecked:n.filelessCites})]}),(0,te.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Non-existent nodes"}),(0,te.jsx)(Wn.r,{onChange:function(){l(et(et({},o),{},{bad:"white"})),t(et(et({},n),{},{bad:!n.bad}))},isChecked:n.bad})]}),(0,te.jsx)(Kn,{label:"Number of neighbors in local graph",value:r.neighbors,onChange:function(e){return i(et(et({},r),{},{neighbors:e}))},min:1,max:5,step:1})]}),(0,te.jsxs)(Hn.UQ,{padding:0,allowToggle:!0,allowMultiple:!0,paddingLeft:3,children:[(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsxs)(Hn.KF,{children:["Directory filters",(0,te.jsx)(Hn.XE,{})]}),(0,te.jsxs)(Hn.Hk,{pr:0,mr:0,children:[(0,te.jsx)(_n,{filter:n,setFilter:t,options:f,displayName:"directory blocklist",listName:"dirsBlocklist",labelFilter:g}),(0,te.jsx)(_n,{filter:n,setFilter:t,options:f,displayName:"directory allowlist",listName:"dirsAllowlist",labelFilter:g})]})]}),(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsxs)(Hn.KF,{children:["Tag filters",(0,te.jsx)(Hn.XE,{})]}),(0,te.jsxs)(Hn.Hk,{pr:0,mr:0,children:[(0,te.jsx)(_n,{filter:n,setFilter:t,options:a,displayName:"tag blocklist",listName:"tagsBlacklist"}),(0,te.jsx)(_n,{filter:n,setFilter:t,options:a,displayName:"tag allowlist",listName:"tagsWhitelist"})]})]}),(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsxs)(Hn.KF,{children:["Tag colors",(0,te.jsx)(Hn.XE,{})]}),(0,te.jsx)(Hn.Hk,{pr:0,mr:0,children:(0,te.jsx)(Xn,{tags:a,colorList:c,tagColors:o,setTagColors:l,highlightColor:s})})]})]})]})},tt=t(37496),rt=function(e){var n=e.value,t=e.onChange,r=e.label,i=e.infoText,o=e.children;return(0,te.jsxs)(d.Box,{paddingTop:2,children:[(0,te.jsxs)(d.Box,{display:"flex",justifyContent:"space-between",paddingBottom:2,children:[(0,te.jsxs)(d.Box,{display:"flex",alignItems:"center",children:[(0,te.jsx)(d.Text,{children:r}),i&&(0,te.jsx)(Qn,{infoText:i})]}),(0,te.jsx)(Wn.r,{isChecked:!!n,onChange:t})]}),(0,te.jsx)(tt.UO,{in:!!n,animateOpacity:!0,children:(0,te.jsx)(d.Box,{paddingLeft:4,paddingTop:2,paddingBottom:2,children:o})})]},r)};function it(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ot(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?it(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):it(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var lt=function(e){var n=e.physics,t=e.setPhysics,r=(0,v.useCallback)((function(e,n,r){t((function(t){return ot(ot({},t),{},(0,o.Z)({},n,e/r))}))}),[]);return(0,te.jsxs)(d.Box,{children:[(0,te.jsxs)(d.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.500"}),align:"stretch",paddingLeft:7,color:"gray.800",children:[(0,te.jsxs)(rt,{label:"Gravity",value:n.gravityOn,onChange:function(){return t(ot(ot({},n),{},{gravityOn:!n.gravityOn}))},children:[(0,te.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Also in local"}),(0,te.jsx)(Wn.r,{onChange:function(){t((function(e){return ot(ot({},e),{},{gravityLocal:!e.gravityLocal})}))},isChecked:n.gravityLocal})]}),(0,te.jsx)(Kn,{label:"Strength",value:10*n.gravity,onChange:function(e){return r(e,"gravity",10)}})]}),(0,te.jsx)(Kn,{value:-n.charge/100,onChange:function(e){return r(e,"charge",-.01)},label:"Repulsive Force"}),(0,te.jsx)(Kn,{value:5*n.linkStrength,onChange:function(e){return r(e,"linkStrength",5)},label:"Link Force"}),(0,te.jsx)(Kn,{label:"Stabilization rate",value:50*n.alphaDecay,onChange:function(e){return r(e,"alphaDecay",50)}})]}),(0,te.jsx)(d.Box,{children:(0,te.jsx)(Hn.UQ,{paddingLeft:3,allowToggle:!0,children:(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsxs)(Hn.KF,{children:[(0,te.jsx)(d.Text,{children:"Advanced"}),(0,te.jsx)(Hn.XE,{marginRight:2})]}),(0,te.jsx)(Hn.Hk,{children:(0,te.jsxs)(d.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.500"}),align:"stretch",paddingLeft:3,color:"gray.800",children:[(0,te.jsx)(rt,{label:"Collision",infoText:"Perfomance sap, disable if slow",value:n.collision,onChange:function(){return t(ot(ot({},n),{},{collision:!n.collision}))},children:(0,te.jsx)(Kn,{value:n.collisionStrength/5,onChange:function(e){return r(e,"collisionStrength",.2)},label:"Collision Radius",infoText:"Easy with this one, high values can lead to a real jiggly mess"})}),(0,te.jsx)(Kn,{label:"Link iterations",value:n.linkIts,onChange:function(e){return r(e,"linkIts",1)},min:0,max:6,step:1,infoText:"How many links down the line the physics of a single node affects (Slow)"}),(0,te.jsx)(Kn,{label:"Viscosity",value:10*n.velocityDecay,onChange:function(e){return r(e,"velocityDecay",10)}}),(0,te.jsx)(rt,{label:"Center nodes",value:n.centering,onChange:function(){return t(ot(ot({},n),{},{centering:!n.centering}))},infoText:"Keeps the nodes in the center of the viewport. If disabled you can drag the nodes anywhere you want.",children:(0,te.jsx)(Kn,{label:"Centering Strength",value:n.centeringStrength,max:2,step:.01,onChange:function(e){return r(e,"centeringStrength",1)}})})]})})]})})})]})};function st(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ct(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?st(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):st(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var at=function(e){var n=e.behavior,t=e.setBehavior,r=e.mouse,i=e.setMouse;return(0,te.jsxs)(d.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.500"}),align:"stretch",paddingLeft:7,color:"gray.800",children:[(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Preview node"}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",children:[(0,te.jsx)(W.j2,{as:h.Button,rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),colorScheme:"",color:"black",children:(0,te.jsx)(d.Text,{children:r.preview?r.preview[0].toUpperCase()+r.preview.slice(1):"Never"})}),(0,te.jsxs)(Ye.h_,{children:[" ",(0,te.jsxs)(W.qy,{bgColor:"gray.200",zIndex:"popover",children:[(0,te.jsx)(W.sN,{onClick:function(){return i(ct(ct({},r),{},{preview:""}))},children:"Never"}),(0,te.jsx)(W.sN,{onClick:function(){return i(ct(ct({},r),{},{preview:"click"}))},children:"Click"}),(0,te.jsx)(W.sN,{onClick:function(){return i(ct(ct({},r),{},{preview:"double"}))},children:"Double Click"})]})]})]})]}),(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,te.jsxs)(d.Flex,{children:[(0,te.jsx)(d.Text,{children:"Expand Node"}),(0,te.jsx)(Qn,{infoText:"View only the node and its direct neighbors"})]}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",children:[(0,te.jsx)(W.j2,{as:h.Button,rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),colorScheme:"",color:"black",children:(0,te.jsx)(d.Text,{children:r.local?r.local[0].toUpperCase()+r.local.slice(1):"Never"})}),(0,te.jsxs)(Ye.h_,{children:[" ",(0,te.jsxs)(W.qy,{zIndex:"popover",bgColor:"gray.200",children:[(0,te.jsx)(W.sN,{onClick:function(){return i(ct(ct({},r),{},{local:""}))},children:"Never"}),(0,te.jsx)(W.sN,{onClick:function(){return i(ct(ct({},r),{},{local:"click"}))},children:"Click"}),(0,te.jsx)(W.sN,{onClick:function(){return i(ct(ct({},r),{},{local:"double"}))},children:"Double Click"}),(0,te.jsx)(W.sN,{onClick:function(){return i(ct(ct({},r),{},{local:"right"}))},children:"Right Click"})]})]})]})]}),(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Open in Emacs"}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",children:[(0,te.jsx)(W.j2,{as:h.Button,rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),colorScheme:"",color:"black",children:(0,te.jsx)(d.Text,{children:r.follow?r.follow[0].toUpperCase()+r.follow.slice(1):"Never"})}),(0,te.jsxs)(Ye.h_,{children:[" ",(0,te.jsxs)(W.qy,{bgColor:"gray.200",zIndex:"popover",children:[(0,te.jsx)(W.sN,{onClick:function(){return i(ct(ct({},r),{},{follow:""}))},children:"Never"}),(0,te.jsx)(W.sN,{onClick:function(){return i(ct(ct({},r),{},{follow:"click"}))},children:"Click"}),(0,te.jsx)(W.sN,{onClick:function(){return i(ct(ct({},r),{},{follow:"double"}))},children:"Double Click"}),(0,te.jsx)(W.sN,{onClick:function(){return i(ct(ct({},r),{},{follow:"right"}))},children:"Right Click"})]})]})]})]}),(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Follow Emacs by..."}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",children:[(0,te.jsx)(W.j2,{as:h.Button,rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),colorScheme:"",color:"black",children:(0,te.jsx)(d.Text,{children:n.follow[0].toUpperCase()+n.follow.slice(1)})}),(0,te.jsxs)(Ye.h_,{children:[" ",(0,te.jsxs)(W.qy,{bgColor:"gray.200",zIndex:"popover",children:[(0,te.jsx)(W.sN,{onClick:function(){return t(ct(ct({},n),{},{follow:"color"}))},children:"Just coloring the currently opened node"}),(0,te.jsx)(W.sN,{onClick:function(){return t(ct(ct({},n),{},{follow:"local"}))},children:"Opening the local graph"}),(0,te.jsx)(W.sN,{onClick:function(){return t(ct(ct({},n),{},{follow:"zoom"}))},children:"Zooming to the current node"})]})]})]})]}),(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,te.jsxs)(d.Flex,{children:[(0,te.jsx)(d.Text,{children:"Local graph"}),(0,te.jsx)(Qn,{infoText:"When in local mode and clicking a new node, should I add that node's local graph or open the new one?"})]}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",children:[(0,te.jsx)(W.j2,{as:h.Button,rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),colorScheme:"",color:"black",children:(0,te.jsx)(d.Text,{children:"add"===n.localSame?"Add":"Replace"})}),(0,te.jsxs)(Ye.h_,{children:[" ",(0,te.jsxs)(W.qy,{bgColor:"gray.200",zIndex:"popover",children:[(0,te.jsx)(W.sN,{onClick:function(){return t(ct(ct({},n),{},{localSame:"replace"}))},children:"Open that nodes graph"}),(0,te.jsx)(W.sN,{onClick:function(){return t(ct(ct({},n),{},{localSame:"add"}))},children:"Add node to local graph"})]})]})]})]}),(0,te.jsx)(Kn,{label:"Zoom speed",value:n.zoomSpeed,min:0,max:4e3,step:100,onChange:function(e){return t(ct(ct({},n),{},{zoomSpeed:e}))}}),(0,te.jsx)(Kn,{label:"Zoom padding",value:n.zoomPadding,min:0,max:400,step:1,onChange:function(e){return t(ct(ct({},n),{},{zoomPadding:e}))},infoText:"How much to zoom out to accomodate all nodes when changing the view."})]})},dt=t(11391);function ut(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ht(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ut(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ut(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var gt=function(e){var n=e.visuals,t=e.setVisuals;return(0,te.jsx)(d.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:(0,te.jsx)(d.Box,{children:(0,te.jsx)(rt,{label:"Highlight",onChange:function(){return t((function(e){return ht(ht({},e),{},{highlight:!e.highlight})}))},value:n.highlight,children:(0,te.jsxs)(d.VStack,{spacing:1,justifyContent:"flex-start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.400"}),align:"stretch",paddingLeft:0,children:[(0,te.jsx)(Kn,{label:"Highlight Link Thickness",value:n.highlightLinkSize,onChange:function(e){return t((function(n){return ht(ht({},n),{},{highlightLinkSize:e})}))}}),(0,te.jsx)(Kn,{label:"Highlight Node Size",value:n.highlightNodeSize,onChange:function(e){return t((function(n){return ht(ht({},n),{},{highlightNodeSize:e})}))}}),(0,te.jsx)(Kn,{min:0,max:1,label:"Highlight Fade",value:n.highlightFade,onChange:function(e){return t((function(n){return ht(ht({},n),{},{highlightFade:e})}))}}),(0,te.jsxs)(rt,{label:"Highlight Animation",onChange:function(){t((function(e){return ht(ht({},e),{},{highlightAnim:!e.highlightAnim})}))},value:n.highlightAnim,children:[(0,te.jsx)(Kn,{label:"Animation speed",onChange:function(e){return t((function(n){return ht(ht({},n),{},{animationSpeed:e})}))},value:n.animationSpeed,infoText:"Slower speed has a chance of being buggy",min:50,max:1e3,step:10}),(0,te.jsx)(dt.Ph,{placeholder:n.algorithmName,onChange:function(e){t((function(n){return ht(ht({},n),{},{algorithmName:e.target.value})}))},children:n.algorithmOptions.map((function(e){return(0,te.jsx)("option",{value:e,children:e},e)}))})]})]})})})})};function ft(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function pt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ft(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ft(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var xt=function(e){var n=e.label,t=e.colorList,r=e.value,i=e.visValue,l=e.setVisuals,s=e.noEmpty,c=(0,v.useCallback)((function(e){return l((function(n){return pt(pt({},n),{},(0,o.Z)({},r,e))}))}),[]);return(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:n}),(0,te.jsxs)($e.J2,{isLazy:!0,placement:"right",children:[(0,te.jsx)($e.xo,{children:(0,te.jsx)(h.Button,{colorScheme:"",color:"black",rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),children:(0,te.jsx)(d.Box,{bgColor:i,borderRadius:"sm",height:6,width:6})})}),(0,te.jsx)(Ye.h_,{children:(0,te.jsx)($e.yk,{zIndex:"tooltip",maxW:36,position:"relative",children:(0,te.jsxs)(d.Flex,{flexWrap:"wrap",bgColor:"gray.200",children:[!s&&(0,te.jsx)(d.Box,{onClick:function(){return c("")},justifyContent:"space-between",alignItems:"center",display:"flex",m:1,children:(0,te.jsx)(d.Box,{height:6,width:6,borderColor:"gray.600",borderRadius:"xl",borderWidth:1})}),t.map((function(e){return(0,te.jsx)(d.Box,{m:1,onClick:function(){return c(e)},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,te.jsx)(d.Box,{bgColor:e,borderRadius:"xl",height:6,width:6})},e)}))]})})})]})]})};function jt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function vt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?jt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var bt=function(e){var n=e.visuals,t=e.setVisualsCallback,r=e.highlightColor,o=e.setHighlightColor;return(0,te.jsx)(d.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:(0,te.jsxs)(d.Box,{children:[(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Nodes"}),(0,te.jsx)(u.u,{label:"Shuffle node colors",children:(0,te.jsx)(h.IconButton,{"aria-label":"Shuffle node colors",size:"sm",icon:(0,te.jsx)(M.RepeatIcon,{}),variant:"ghost",onClick:function(){var e,r=null!==(e=n.nodeColorScheme)&&void 0!==e?e:[];t(vt(vt({},n),{},{nodeColorScheme:r.map((function(e){return[Math.random(),e]})).sort((function(e,n){return(0,l.Z)(e,1)[0]-(0,l.Z)(n,1)[0]})).map((function(e){var n=(0,l.Z)(e,2);n[0];return n[1]}))}))}})}),(0,te.jsx)(u.u,{label:"Cycle node colors",children:(0,te.jsx)(h.IconButton,{"aria-label":"Shift node colors",icon:(0,te.jsx)(M.ArrowRightIcon,{}),size:"sm",variant:"ghost",onClick:function(){var e,r=null!==(e=n.nodeColorScheme)&&void 0!==e?e:[];t(vt(vt({},n),{},{nodeColorScheme:[].concat((0,i.Z)(r.slice(1,r.length)),[r[0]])}))}})}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",closeOnSelect:!1,matchWidth:!0,children:[(0,te.jsx)(W.j2,{width:20,as:h.Button,colorScheme:"",color:"black",rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),children:(0,te.jsx)(d.Flex,{height:6,width:6,flexDirection:"column",flexWrap:"wrap",children:n.nodeColorScheme.map((function(e){return(0,te.jsx)(d.Box,{bgColor:e,flex:"1 1 8px",borderRadius:"2xl"},e)}))})}),(0,te.jsxs)(Ye.h_,{children:[" ",(0,te.jsx)(W.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:(0,te.jsx)(W.__,{width:500,type:"checkbox",defaultValue:n.nodeColorScheme,onChange:function(e){e.length&&t(vt(vt({},n),{},{nodeColorScheme:e}))},children:H.map((function(e){return(0,te.jsx)(W.ii,{isChecked:n.nodeColorScheme.some((function(n){return n===e})),value:e,isDisabled:1===n.nodeColorScheme.length&&n.nodeColorScheme[0]===e,children:(0,te.jsx)(d.Box,{justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,te.jsx)(d.Box,{bgColor:e,borderRadius:"sm",height:6,width:6})})},e)}))})})]})]})]}),(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Links"}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",children:[(0,te.jsx)(W.j2,{as:h.Button,colorScheme:"",color:"black",rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),children:(0,te.jsx)(d.Box,{children:n.linkColorScheme?(0,te.jsx)(d.Box,{bgColor:n.linkColorScheme,borderRadius:"sm",height:6,width:6}):(0,te.jsx)(d.Flex,{height:6,width:6,flexDirection:"column",flexWrap:"wrap",children:n.nodeColorScheme.map((function(e){return(0,te.jsx)(d.Box,{bgColor:e,flex:"1 1 8px",borderRadius:"2xl"},e)}))})})}),(0,te.jsxs)(Ye.h_,{children:[" ",(0,te.jsxs)(W.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:[(0,te.jsx)(W.sN,{onClick:function(){return t(vt(vt({},n),{},{linkColorScheme:""}))},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,te.jsx)(d.Flex,{height:6,width:6,flexDirection:"column",flexWrap:"wrap",children:n.nodeColorScheme.map((function(e){return(0,te.jsx)(d.Box,{bgColor:e,flex:"1 1 8px",borderRadius:"2xl"},e)}))})}),H.map((function(e){return(0,te.jsx)(W.sN,{onClick:function(){return t(vt(vt({},n),{},{linkColorScheme:e}))},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,te.jsx)(d.Box,{bgColor:e,borderRadius:"sm",height:6,width:6})},e)}))]})]})]})]}),(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Accent"}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",children:[(0,te.jsx)(W.j2,{as:h.Button,colorScheme:"",color:"black",rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),children:(0,te.jsx)(d.Box,{bgColor:r,borderRadius:"sm",height:6,width:6})}),(0,te.jsxs)(Ye.h_,{children:[" ",(0,te.jsx)(W.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:H.map((function(e){return(0,te.jsx)(W.sN,{onClick:function(){return o(e)},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,te.jsx)(d.Box,{bgColor:e,borderRadius:"sm",height:6,width:6})},e)}))})]})]})]}),(0,te.jsx)(xt,{colorList:H,label:"Link highlight",setVisuals:t,value:"linkHighlight",visValue:n.linkHighlight}),(0,te.jsx)(xt,{colorList:H,label:"Node highlight",setVisuals:t,value:"nodeHighlight",visValue:n.nodeHighlight}),(0,te.jsx)(xt,{colorList:H,label:"Background",setVisuals:t,value:"backgroundColor",visValue:n.backgroundColor}),(0,te.jsx)(xt,{colorList:H,label:"Emacs node",setVisuals:t,value:"emacsNodeColor",visValue:n.emacsNodeColor})]})})};function yt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function mt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?yt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ct=function(e){var n=e.visuals,t=e.setVisuals,r=e.threeDim;return(0,te.jsx)(d.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:(0,te.jsxs)(d.Box,{children:[(0,te.jsx)(Kn,{label:"Node size",value:n.nodeRel,onChange:function(e){return t(mt(mt({},n),{},{nodeRel:e}))}}),(0,te.jsx)(Kn,{label:"Node degree size multiplier",value:n.nodeSizeLinks,min:0,max:2,onChange:function(e){return t(mt(mt({},n),{},{nodeSizeLinks:e}))}}),(0,te.jsx)(Kn,{label:"Node zoom invariance",value:n.nodeZoomSize,min:0,max:2,infoText:"How much the graph will try to keep the nodesize consistent across zoom scales. 0 is no consistency, node will always be their true size, 1 is linear, 2 is quadratic.",onChange:function(e){return t((function(n){return mt(mt({},n),{},{nodeZoomSize:e})}))}}),r&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(Kn,{label:"Node opacity",value:n.nodeOpacity,min:0,max:1,onChange:function(e){return t(mt(mt({},n),{},{nodeOpacity:e}))}}),(0,te.jsx)(Kn,{label:"Node resolution",value:n.nodeResolution,min:5,max:32,step:1,onChange:function(e){return t(mt(mt({},n),{},{nodeResolution:e}))}})]}),(0,te.jsx)(Kn,{label:"Link width",value:n.linkWidth,onChange:function(e){return t(mt(mt({},n),{},{linkWidth:e}))}}),r&&(0,te.jsx)(Kn,{label:"Link opacity",min:0,max:1,value:n.linkOpacity,onChange:function(e){return t(mt(mt({},n),{},{linkOpacity:e}))}}),(0,te.jsxs)(rt,{label:"Link arrows",value:n.arrows,onChange:function(){return t(mt(mt({},n),{},{arrows:!n.arrows}))},children:[(0,te.jsx)(Kn,{label:"Arrow size",value:n.arrowsLength/10,onChange:function(e){return t(mt(mt({},n),{},{arrowsLength:10*e}))}}),(0,te.jsx)(Kn,{label:"Arrow Position",value:n.arrowsPos,min:0,max:1,step:.01,onChange:function(e){return t(mt(mt({},n),{},{arrowsPos:e}))}}),(0,te.jsx)(xt,{colorList:H,label:"Arrow Color",setVisuals:t,value:"arrowsColor",visValue:n.arrowsColor},"arrow")]}),(0,te.jsxs)(rt,{label:"Directional Particles",value:n.particles,onChange:function(){return t(mt(mt({},n),{},{particles:!n.particles}))},children:[(0,te.jsx)(Kn,{label:"Particle Number",value:n.particlesNumber,max:5,step:1,onChange:function(e){return t(mt(mt({},n),{},{particlesNumber:e}))}}),(0,te.jsx)(Kn,{label:"Particle Size",value:n.particlesWidth,onChange:function(e){return t(mt(mt({},n),{},{particlesWidth:e}))}})]})]})})};function Ot(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function wt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ot(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ot(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var kt=function(e){var n=e.visuals,t=e.setVisuals;return(0,te.jsxs)(d.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.400"}),align:"stretch",color:"gray.800",children:[(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,te.jsx)(d.Text,{children:"Show labels"}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",children:[(0,te.jsx)(W.j2,{as:h.Button,colorScheme:"",color:"black",rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),children:n.labels?n.labels<2?"On Highlight":"Always":"Never"}),(0,te.jsxs)(Ye.h_,{children:[" ",(0,te.jsxs)(W.qy,{zIndex:"popover",bgColor:"gray.200",children:[(0,te.jsx)(W.sN,{onClick:function(){return t(wt(wt({},n),{},{labels:0}))},children:"Never"}),(0,te.jsx)(W.sN,{onClick:function(){return t(wt(wt({},n),{},{labels:1}))},children:"On Highlight"}),(0,te.jsx)(W.sN,{onClick:function(){return t(wt(wt({},n),{},{labels:2}))},children:"Always"}),(0,te.jsx)(W.sN,{onClick:function(){return t(wt(wt({},n),{},{labels:3}))},children:"Always (even in 3D)"})]})]})]})]}),(0,te.jsxs)(tt.UO,{in:n.labels>1,animateOpacity:!0,children:[(0,te.jsx)(d.Box,{paddingTop:2,children:(0,te.jsx)(Kn,{label:"Label Appearance Scale",value:2*n.labelScale,onChange:function(e){return t(wt(wt({},n),{},{labelScale:e/2}))}})}),(0,te.jsxs)(d.Box,{paddingTop:2,children:[(0,te.jsx)(Kn,{label:"Label dynamicity",infoText:"By default, labels of nodes with more links will appear earlier than those with fewer. This slider changes the strength of this effect, put it at zero to disable it.",value:n.labelDynamicStrength,min:0,max:1,step:.05,onChange:function(e){return t((function(n){return wt(wt({},n),{},{labelDynamicStrength:e})}))}}),(0,te.jsx)(tt.UO,{in:n.labelDynamicStrength>0,children:(0,te.jsx)(Kn,{label:"Dynamic zoom degree cap",infoText:"The maximum number of links that is considered for the 'dynamic zoom effect'. Past this number all number of links are treated the same.",value:n.labelDynamicDegree,min:1,max:15,step:1,onChange:function(e){return t((function(n){return wt(wt({},n),{},{labelDynamicDegree:e})}))}})})]})]}),(0,te.jsx)(xt,{colorList:H,label:"Text",setVisuals:t,value:"labelTextColor",visValue:n.labelTextColor}),(0,te.jsxs)(d.Box,{children:[(0,te.jsx)(xt,{colorList:H,label:"Background",setVisuals:t,value:"labelBackgroundColor",visValue:n.labelBackgroundColor}),(0,te.jsx)(tt.UO,{in:!!n.labelBackgroundColor,animateOpacity:!0,children:(0,te.jsx)(d.Box,{paddingTop:2,children:(0,te.jsx)(Kn,{label:"Background opacity",value:n.labelBackgroundOpacity,onChange:function(e){console.log(n.labelBackgroundOpacity),t(wt(wt({},n),{},{labelBackgroundOpacity:e}))},min:0,max:1,step:.01})})})]}),(0,te.jsx)(Kn,{label:"Label font size",value:n.labelFontSize,min:5,max:20,step:.5,onChange:function(e){return t(wt(wt({},n),{},{labelFontSize:e}))}}),(0,te.jsx)(Kn,{label:"Max. label characters",value:n.labelLength,min:10,max:100,step:1,onChange:function(e){return t(wt(wt({},n),{},{labelLength:e}))}}),(0,te.jsx)(Kn,{label:"Max. label line length",value:n.labelWordWrap,min:10,max:100,step:1,onChange:function(e){return t(wt(wt({},n),{},{labelWordWrap:e}))}}),(0,te.jsx)(Kn,{label:"Space between label lines",value:n.labelLineSpace,min:.2,max:3,step:.1,onChange:function(e){return t(wt(wt({},n),{},{labelLineSpace:e}))}})]})},St=t(67690),It=function(){var e=(0,v.useContext)(en.N),n=e.emacsTheme,t=e.setEmacsTheme;e.highlightColor;return(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",pl:7,pr:2,children:[(0,te.jsx)(d.Text,{children:"Theme"}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"bottom",closeOnSelect:!1,children:[(0,te.jsx)(W.j2,{as:h.Button,size:"sm",colorScheme:"",color:"black",rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),children:n[0]}),(0,te.jsxs)(W.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:[(0,te.jsx)(W.sN,{onClick:function(){return""},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,te.jsx)(d.Box,{height:6,width:6})}),Object.keys(St.n).map((function(e,n){return(0,te.jsxs)(W.sN,{onClick:function(){return t([e,St.n[e]])},justifyContent:"space-between",alignItems:"center",display:"flex",children:[(0,te.jsx)(d.Text,{children:e}),(0,te.jsx)(d.Flex,{height:6,width:20,flexDirection:"column",flexWrap:"wrap",children:Object.values(St.n[e]).map((function(e){return(0,te.jsx)(d.Box,{bgColor:e,flex:"1 1 8px"},e)}))})]},e)}))]})]})]})};function Nt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Pt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Nt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Nt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Dt=function(e){var n=e.visuals,t=e.setVisuals;return(0,te.jsx)(d.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,te.jsx)(d.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:(0,te.jsxs)(d.Box,{children:[(0,te.jsxs)(rt,{label:"Dash cite links",infoText:"Add dashes to citation links made with org-roam-bibtex",value:n.citeDashes,onChange:function(){return t(Pt(Pt({},n),{},{citeDashes:!n.citeDashes}))},children:[(0,te.jsx)(Kn,{label:"Dash length",value:n.citeDashLength/10,onChange:function(e){return t(Pt(Pt({},n),{},{citeDashLength:10*e}))}}),(0,te.jsx)(Kn,{label:"Gap length",value:n.citeGapLength/5,onChange:function(e){return t(Pt(Pt({},n),{},{citeGapLength:5*e}))}})]}),(0,te.jsx)(xt,{colorList:H,label:"Citation node color",setVisuals:t,value:"citeNodeColor",visValue:n.citeNodeColor}),(0,te.jsx)(xt,{colorList:H,label:"Citation link color",setVisuals:t,value:"citeLinkColor",visValue:n.citeLinkColor}),(0,te.jsx)(xt,{colorList:H,label:"Reference link highlight",setVisuals:t,value:"citeLinkHighlightColor",visValue:n.citeLinkHighlightColor}),(0,te.jsxs)(rt,{label:"Dash ref links",infoText:"Add dashes to citation links, whose target has a note, made with org-roam-bibtex",value:n.refDashes,onChange:function(){return t(Pt(Pt({},n),{},{refDashes:!n.refDashes}))},children:[(0,te.jsx)(Kn,{label:"Dash length",value:n.refDashLength/10,onChange:function(e){return t(Pt(Pt({},n),{},{refDashLength:10*e}))}}),(0,te.jsx)(Kn,{label:"Gap length",value:n.refGapLength/5,onChange:function(e){return t(Pt(Pt({},n),{},{refGapLength:5*e}))}})]}),(0,te.jsx)(xt,{colorList:H,label:"Reference node color",setVisuals:t,value:"refNodeColor",visValue:n.refNodeColor}),(0,te.jsx)(xt,{colorList:H,label:"Reference link color",setVisuals:t,value:"refLinkColor",visValue:n.refLinkColor}),(0,te.jsx)(xt,{colorList:H,label:"Reference link highlight",setVisuals:t,value:"refLinkHighlightColor",visValue:n.refLinkHighlightColor})]})})};function Bt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Lt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Bt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Tt=function(e){var n=e.coloring,t=e.setColoring;return(0,te.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",pl:7,pr:2,children:[(0,te.jsx)(d.Text,{children:"Graph coloring"}),(0,te.jsxs)(W.v2,{isLazy:!0,placement:"right",children:[(0,te.jsx)(W.j2,{as:h.Button,size:"sm",colorScheme:"",color:"black",rightIcon:(0,te.jsx)(M.ChevronDownIcon,{}),children:"degree"===n.method?"Links":"Communities"}),(0,te.jsx)(Ye.h_,{children:(0,te.jsxs)(W.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:[(0,te.jsx)(W.sN,{onClick:function(){return t((function(e){return Lt(Lt({},e),{},{method:"degree"})}))},justifyContent:"space-between",alignItems:"center",display:"flex",children:"Number of links"}),(0,te.jsx)(W.sN,{onClick:function(){return t((function(e){return Lt(Lt({},e),{},{method:"community"})}))},justifyContent:"space-between",alignItems:"center",display:"flex",children:"Communities"})]})})]})]})},Ft=function(e){var n=e.coloring,t=e.setColoring,r=e.visuals,i=e.setVisuals,o=e.highlightColor,l=e.setHighlightColor,s=e.threeDim,c=(0,v.useCallback)((function(e){return i(e)}),[]);return(0,te.jsxs)(d.VStack,{justifyContent:"flex-start",align:"stretch",children:[(0,te.jsx)(It,{}),(0,te.jsx)(Tt,{coloring:n,setColoring:t}),(0,te.jsxs)(Hn.UQ,{allowToggle:!0,defaultIndex:[0],paddingLeft:3,children:[(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsx)(Hn.KF,{children:(0,te.jsxs)(d.Flex,{justifyContent:"space-between",w:"100%",children:[(0,te.jsx)(d.Text,{children:"Colors"}),(0,te.jsx)(Hn.XE,{marginRight:2})]})}),(0,te.jsx)(Hn.Hk,{children:(0,te.jsx)(bt,{visuals:r,setVisualsCallback:c,highlightColor:o,setHighlightColor:l})})]}),(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsx)(Hn.KF,{children:(0,te.jsxs)(d.Flex,{justifyContent:"space-between",w:"100%",children:[(0,te.jsx)(d.Text,{children:"Nodes & Links"}),(0,te.jsx)(Hn.XE,{marginRight:2})]})}),(0,te.jsx)(Hn.Hk,{children:(0,te.jsx)(Ct,{visuals:r,setVisuals:c,threeDim:s})})]}),(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsx)(Hn.KF,{children:(0,te.jsxs)(d.Flex,{justifyContent:"space-between",w:"100%",children:[(0,te.jsx)(d.Text,{children:"Labels"}),(0,te.jsx)(Hn.XE,{marginRight:2})]})}),(0,te.jsx)(Hn.Hk,{children:(0,te.jsx)(kt,{visuals:r,setVisuals:c})})]}),(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsx)(Hn.KF,{children:(0,te.jsxs)(d.Flex,{justifyContent:"space-between",w:"100%",children:[(0,te.jsx)(d.Text,{children:"Highlighting"}),(0,te.jsx)(Hn.XE,{marginRight:2})]})}),(0,te.jsx)(Hn.Hk,{children:(0,te.jsx)(gt,{visuals:r,setVisuals:c})})]}),(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsx)(Hn.KF,{children:(0,te.jsxs)(d.Flex,{justifyContent:"space-between",w:"100%",children:[(0,te.jsx)(d.Text,{children:"Citations"}),(0,te.jsx)(Hn.XE,{marginRight:2})]})}),(0,te.jsx)(Hn.Hk,{children:(0,te.jsx)(Dt,{visuals:r,setVisuals:c})})]})]})]})},Et=["style"];function zt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Rt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Zt=function(e){var n=e.physics,t=e.setPhysics,r=e.threeDim,i=e.setThreeDim,o=e.filter,s=e.setFilter,c=e.visuals,a=e.setVisuals,g=e.mouse,f=e.setMouse,p=e.behavior,x=e.setBehavior,j=e.tags,b=e.tagColors,y=e.setTagColors,m=e.coloring,C=e.setColoring,O=e.local,w=e.setLocal,k=Tn("showTweaks",!1),S=(0,l.Z)(k,2),I=S[0],N=S[1],P=(0,v.useContext)(en.N),D=P.highlightColor,B=P.setHighlightColor;return I?(0,te.jsxs)(d.Box,{position:"absolute",bg:"alt.100",w:"xs",marginTop:2,marginLeft:2,borderRadius:"lg",paddingBottom:5,zIndex:10,boxShadow:"xl",maxH:"95vh",fontSize:"sm",children:[(0,te.jsxs)(d.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:2,paddingTop:1,children:[(0,te.jsx)(u.u,{label:"2D",children:(0,te.jsx)(h.Button,{onClick:function(){return i(!r)},variant:"subtle",zIndex:"overlay",children:r?"3D":"2D"})}),(0,te.jsxs)(d.Box,{display:"flex",alignItems:"center",children:[(0,te.jsx)(u.u,{label:"Reset settings to defaults",children:(0,te.jsx)(h.IconButton,{"aria-label":"Reset Defaults",icon:(0,te.jsx)(M.RepeatClockIcon,{}),onClick:function(){a(E),s(T),f(R),t(L),x(z),C(F),B("purple.500"),w(Z)},variant:"subtle",size:"sm"})}),(0,te.jsx)(h.IconButton,{size:"sm",icon:(0,te.jsx)(M.CloseIcon,{}),"aria-label":"Close Tweak Panel",variant:"subtle",onClick:function(){return N(!1)}})]})]}),(0,te.jsx)(on.ZP,{autoHeight:!0,autoHeightMax:.85*globalThis.innerHeight,autoHide:!0,renderThumbVertical:function(e){var n=e.style,t=(0,U.Z)(e,Et);return(0,te.jsx)(d.Box,Rt(Rt({},t),{},{style:Rt(Rt({},n),{},{borderRadius:10}),bg:D}))},children:(0,te.jsxs)(Hn.UQ,{allowMultiple:!0,allowToggle:!0,color:"black",children:[(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsxs)(Hn.KF,{children:[(0,te.jsx)(Hn.XE,{marginRight:2}),(0,te.jsx)(d.Heading,{size:"sm",children:"Filter"})]}),(0,te.jsx)(Hn.Hk,{children:(0,te.jsx)(nt,{filter:o,setFilter:s,tagColors:b,setTagColors:y,highlightColor:D,colorList:H,tags:j,local:O,setLocal:w})})]}),(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsx)(Hn.KF,{display:"flex",justifyContent:"space-between",children:(0,te.jsxs)(d.Box,{display:"flex",children:[(0,te.jsx)(Hn.XE,{marginRight:2}),(0,te.jsx)(d.Heading,{size:"sm",children:"Physics"})]})}),(0,te.jsx)(Hn.Hk,{children:(0,te.jsx)(lt,{physics:n,setPhysics:t})})]}),(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsxs)(Hn.KF,{children:[(0,te.jsx)(Hn.XE,{marginRight:2}),(0,te.jsx)(d.Heading,{size:"sm",children:"Visual"})]}),(0,te.jsx)(Hn.Hk,{children:(0,te.jsx)(Ft,{visuals:c,setVisuals:a,highlightColor:D,setHighlightColor:B,threeDim:r,coloring:m,setColoring:C})})]}),(0,te.jsxs)(Hn.Qd,{children:[(0,te.jsxs)(Hn.KF,{children:[(0,te.jsx)(Hn.XE,{marginRight:2}),(0,te.jsx)(d.Heading,{size:"sm",children:"Behavior"})]}),(0,te.jsx)(Hn.Hk,{children:(0,te.jsx)(at,{behavior:p,setBehavior:x,mouse:g,setMouse:f})})]})]})})]}):(0,te.jsx)(d.Box,{position:"absolute",zIndex:"overlay",marginTop:1,marginLeft:0,display:I?"none":"block",children:(0,te.jsx)(h.IconButton,{variant:"subtle","aria-label":"Settings",icon:(0,te.jsx)(M.SettingsIcon,{}),onClick:function(){return N(!0)}})})},Ht=t(22663),Wt=t.n(Ht),At=t(94244),Mt=function(e){var n,t=e.linksByNodeId,r=e.visuals,i=e.highlightedNodes,o=e.previouslyHighlightedNodes,l=e.opacity,s=e.node,c=null!==(n=t[s.id])&&void 0!==n?n:[],a=c.length?c.filter((function(e){return"parent"===e.type})).length:0,d=3+c.length*r.nodeSizeLinks-(At.hX.parent?0:a);return 1===r.highlightNodeSize?d:d*(i[s.id]||o[s.id]?1+l*(r.highlightNodeSize-1):1)};function Vt(e,n){return"rgba("+(e=e.replace("#","")).match(new RegExp("(.{"+e.length/3+"})","g")).map((function(n){return parseInt(e.length%2?n+n:n,16)})).concat(isFinite(n)?n:1).join(",")+")"}function _t(e){var n,t,r,o,l=e.labelBackgroundColor,s=e.labelTextColor,c=e.node,a=e.ctx,d=e.globalScale,u=e.highlightedNodes,h=e.previouslyHighlightedNodes,g=e.visuals,f=e.opacity,p=e.filteredLinksByNodeId,x=(e.nodeRel,e.hoverNode),j=e.lastHoverNode;if(c&&g.labels){var v=null!==(n=null===x||void 0===x?void 0:x.id)&&void 0!==n?n:"",b=null!==(t=null===j||void 0===j?void 0:j.id)&&void 0!==t?t:"",y=null!==(r=p[c.id])&&void 0!==r?r:[],m=!(!u[c.id]&&!h[c.id]),C=Math.min(5*(d-g.labelScale)+2*Math.pow(Math.min(y.length,g.labelDynamicDegree),g.labelDynamicStrength),1);if(!(C<.01)||m){var O=null!==(o=c.title)&&void 0!==o?o:"",w=O.substring(0,g.labelLength),k=Math.cbrt(g.nodeRel*Mt({node:c,highlightedNodes:u,linksByNodeId:p,opacity:f,previouslyHighlightedNodes:h,visuals:g})/Math.pow(d,g.nodeZoomSize)),S=g.labelFontSize/Math.cbrt(Math.pow(d,g.nodeZoomSize)),I=[1.1*a.measureText(w).width,S].map((function(e){return e+.5*S})),N=function(e,n,t,r,i){return i?Math.max(e,r):1*e*(-1*(n.highlightFade*r-1))}(C,g,0,f,m);if(g.labelBackgroundColor&&g.labelBackgroundOpacity){var P=Vt(l,N*g.labelBackgroundOpacity);a.fillStyle=P,a.fillRect.apply(a,[c.x-I[0]/2,c.y-I[1]/2+k].concat((0,i.Z)(I)))}a.textAlign="center",a.textBaseline="middle";var D=Vt(s,N);a.fillStyle=D,a.font="".concat(S,"px Sans-Serif");var B=Wt()(w,{width:g.labelWordWrap}).split("\n"),L=O.length>g.labelLength?[].concat((0,i.Z)(B.slice(0,-1)),["".concat(B.slice(-1),"...")]):B,T=[v,b].includes(c.id)?1+.3*f:1;L.forEach((function(e,n){a.fillText(e,c.x,c.y+T*k*8+g.labelLineSpace*S*n)}))}}}var Ut=function(e){var n,t,r,i,o,l=e.id,s=e.linksByNodeId,c=e.visuals,a=e.coloring,d=e.cluster,u=null!==(n=null===(t=s[l])||void 0===t?void 0:t.length)&&void 0!==n?n:0;return"degree"===a.method?c.nodeColorScheme[(r=u,i=0,o=c.nodeColorScheme.length-1,Math.min(Math.max(r,i),o))]:c.nodeColorScheme[u&&d[l]%c.nodeColorScheme.length]},qt=function(e,n){var t,r;return(null===(t=e.source)||void 0===t?void 0:t.id)===(null===n||void 0===n?void 0:n.id)||(null===(r=e.target)||void 0===r?void 0:r.id)===(null===n||void 0===n?void 0:n.id)},Xt=function(e){var n=e.sourceId,t=e.targetId,r=e.linksByNodeId,i=e.visuals,o=e.coloring,l=e.cluster;return r[n].length>r[t].length?Ut({id:n,linksByNodeId:r,visuals:i,cluster:l,coloring:o}):Ut({id:t,visuals:i,linksByNodeId:r,cluster:l,coloring:o})};function Gt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Qt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Gt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Jt=t.e(907).then(t.bind(t,99907)),Kt=t.g.window?t(24878).f$:null,$t=t.g.window?t(24878).s6:null;function Yt(){var e=(0,v.useState)(!1),n=e[0],t=e[1];return(0,v.useEffect)((function(){t(!0)}),[]),n?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(j.default,{children:(0,te.jsx)("title",{children:"ORUI"})}),(0,te.jsx)(er,{})]}):null}function er(){var e=Tn("3d",!1),n=(0,l.Z)(e,2),t=n[0],r=n[1],s=Tn("tagCols",{}),c=(0,l.Z)(s,2),g=c[0],f=c[1],x=(0,v.useState)({nodeIds:[],excludedNodeIds:[]}),j=x[0],b=x[1],y=Tn("physics",L),O=(0,l.Z)(y,2),k=O[0],S=O[1],I=Tn("filter",T),N=(0,l.Z)(I,2),P=N[0],D=N[1],B=Tn("visuals",E),H=(0,l.Z)(B,2),W=H[0],A=H[1],M=(0,v.useState)(null),V=M[0],_=M[1],U=(0,v.useState)(null),q=U[0],X=(U[1],Tn("behavior",z)),G=(0,l.Z)(X,2),Q=G[0],J=G[1],K=Tn("mouse",R),$=(0,l.Z)(K,2),Y=$[0],ee=$[1],ne=Tn("coloring",F),re=(0,l.Z)(ne,2),ie=re[0],oe=re[1],le=Tn("local",Z),se=(0,l.Z)(le,2),ce=se[0],ae=se[1],de=(0,w.Z)({}),ue=(0,l.Z)(de,2),he=ue[0],fe=ue[1],pe=fe.set,xe=fe.reset,je=fe.undo,ve=fe.redo,be=fe.canUndo,ye=fe.canRedo,me=(he.past,he.present),Ce=(he.future,(0,v.useState)(null)),Oe=Ce[0],we=Ce[1],ke=(0,a.qY)(),Se=ke.isOpen,Ie=ke.onOpen,Ne=ke.onClose,Pe=(0,v.useRef)({}),De=(0,v.useRef)({}),Be=(0,v.useRef)({}),Le=(0,v.useRef)([]),Te=(0,v.useRef)(null),Fe=(0,v.useState)({}),Ee=Fe[0],ze=(Fe[1],(0,v.useRef)({})),Re=(0,v.useRef)({nodes:[],links:[]});(0,v.useEffect)((function(){V&&(Re.current=V)}),[V]);(0,v.useContext)(en.N).setEmacsTheme;var Ze=(0,v.useRef)({nodeIds:[],excludedNodeIds:[]}),He=(0,v.useRef)(z);He.current=Q;var We=(0,v.useRef)(null);Ze.current=j;(0,v.useEffect)((function(){fetch("data").then((function(e){return e.json()})).then((function(e){!function(e){var n,t,r,s=Pe.current;Le.current=null!==(n=e.tags)&&void 0!==n?n:[];var c=null!==(t=e.nodes)&&void 0!==t?t:[],a=null!==(r=e.links)&&void 0!==r?r:[],d=c.reduce((function(e,n){var t;return Qt(Qt({},e),{},(0,o.Z)({},n.file,[].concat((0,i.Z)(null!==(t=e[n.file])&&void 0!==t?t:[]),[n])))}),{}),u=Object.keys(d).flatMap((function(e){var n,t=null!==(n=d[e])&&void 0!==n?n:[],r=t.find((function(e){return 0===e.level})),i=t.filter((function(e){return 0!==e.level}));return r?i.map((function(e){var n=t.filter((function(n){var t,r;return!(n.level>=e.level||n.pos>=e.pos||null===(t=e.olp)||void 0===t||!t.includes(null===(r=n.title)||void 0===r?void 0:r.replace(/ *\[\d*\/\d*\] */g,"")))})).reduce((function(e,n){return n.level>e.level&&(e=n),e}),r);return{source:e.id,target:(null===n||void 0===n?void 0:n.id)||r.id,type:"heading"}})):[]})),h=Object.keys(d).flatMap((function(e){var n,t=null!==(n=d[e])&&void 0!==n?n:[],r=t.find((function(e){return 0===e.level})),i=t.filter((function(e){return 0!==e.level}));return r?i.map((function(e){return{source:e.id,target:r.id,type:"parent"}})):[]}));Pe.current=Object.fromEntries(c.map((function(e){return[e.id,e]})));var g=[].concat((0,i.Z)(a),(0,i.Z)(u),(0,i.Z)(h)),f=[],p=g.map((function(e){var n=e.source,t=e.target;return Pe.current[n]?Pe.current[t]?e:(f.push({id:t,tags:["bad"],properties:{FILELESS:"yes",bad:"yes"},file:"",title:t,level:0,pos:0,olp:null}),Qt(Qt({},e),{},{type:"bad"})):(f.push({id:n,tags:["bad"],properties:{FILELESS:"yes",bad:"yes"},file:"",title:n,level:0,pos:0,olp:null}),Qt(Qt({},e),{},{type:"bad"}))}));Pe.current=Qt(Qt({},Pe.current),Object.fromEntries(f.map((function(e){return[e.id,e]})))),De.current=p.reduce((function(e,n){var t,r,l;return Qt(Qt({},e),{},(l={},(0,o.Z)(l,n.source,[].concat((0,i.Z)(null!==(t=e[n.source])&&void 0!==t?t:[]),[n])),(0,o.Z)(l,n.target,[].concat((0,i.Z)(null!==(r=e[n.target])&&void 0!==r?r:[]),[n])),l))}),{});var x=[].concat((0,i.Z)(c),f);Be.current=x.reduce((function(e,n){var t,r=null===(t=n.properties)||void 0===t?void 0:t.ROAM_REFS;if(null===r||void 0===r||!r.includes("cite"))return e;var i=r.replaceAll(/cite:(.*)/g,"$1");return i?Qt(Qt({},e),{},(0,o.Z)({},i,n)):e}),{});var j={nodes:x,links:p},v=Re.current;if(0===v.nodes.length){var b=JSON.parse(JSON.stringify(j));return Re.current=b,void _(b)}var y=[].concat((0,i.Z)(v.nodes.flatMap((function(e){var n,t=null!==(n=Pe.current[null===e||void 0===e?void 0:e.id])&&void 0!==n&&n;return t?[Qt(Qt({},e),t)]:[]}))),(0,i.Z)(Object.keys(Pe.current).filter((function(e){return!s[e]})).map((function(e){return Pe.current[e]})))),m=y.reduce((function(e,n,t){var r=null===n||void 0===n?void 0:n.id;return Qt(Qt({},e),{},(0,o.Z)({},r,t))}),{}),C=p.map((function(e){var n=yn(e),t=(0,l.Z)(n,2),r=t[0],i=t[1];return Qt(Qt({},e),{},{source:y[m[r]],target:y[m[i]]})}));_({nodes:y,links:C})}(e.data)}))}),[]),(0,v.useEffect)((function(){var e=Te.current;!e||j.nodeIds.length>1||(j.nodeIds.length||!k.gravityOn?setTimeout((function(){e.zoomToFit(5,200)}),50):e.zoomToFit())}),[j.nodeIds]);var Ae=(0,p.iP)(),Me=(0,l.Z)(Ae,2),Ve=Me[0],_e=Me[1],Ue=(0,v.useRef)(),qe=(0,v.useState)(null),Xe=qe[0],Ge=qe[1],Qe=(0,v.useState)({left:0,top:0,right:void 0,bottom:void 0}),Je=Qe[0],Ke=Qe[1],$e=(0,a.qY)();(0,a.O3)({ref:Ue,handler:function(){$e.onClose()}});var Ye=function(e,n,t){Ke(t||{left:n.pageX,top:n.pageY,right:void 0,bottom:void 0}),Ge(e),$e.onOpen()},nn=function(e,n){"remove"!==n?"replace"!==n?j.nodeIds.includes(e.id)||b((function(n){return{excludedNodeIds:n.excludedNodeIds.filter((function(n){return n!==e.id})),nodeIds:[].concat((0,i.Z)(n.nodeIds),[e.id])}})):b({nodeIds:[e.id],excludedNodeIds:[]}):b((function(n){return{nodeIds:n.nodeIds.filter((function(n){return n!==e.id})),excludedNodeIds:[].concat((0,i.Z)(n.excludedNodeIds),[e.id])}}))},tn=Tn("mainWindowWidth",Ve),rn=(0,l.Z)(tn,2),on=rn[0],ln=rn[1];return(0,te.jsx)($n.Provider,{value:Qt({},Ee),children:(0,te.jsxs)(d.Box,{display:"flex",alignItems:"flex-start",flexDirection:"row",height:"100vh",overflow:"clip",children:[(0,te.jsx)(Zt,{physics:k,setPhysics:S,threeDim:t,setThreeDim:r,filter:P,setFilter:D,visuals:W,setVisuals:A,mouse:Y,setMouse:ee,behavior:Q,setBehavior:J,tagColors:g,setTagColors:f,coloring:ie,setColoring:oe,local:ce,setLocal:ae,tags:Le.current}),(0,te.jsx)(d.Box,{position:"absolute",children:V&&(0,te.jsx)(nr,{nodeById:Pe.current,linksByNodeId:De.current,webSocket:We.current,variables:Ee,physics:k,graphData:V,threeDim:t,emacsNodeId:q,filter:P,visuals:W,behavior:Q,mouse:Y,scope:j,setScope:b,tagColors:g,setPreviewNode:pe,sidebarHighlightedNode:Oe,windowWidth:Ve,windowHeight:_e,openContextMenu:Ye,contextMenu:$e,handleLocal:nn,mainWindowWidth:on,setMainWindowWidth:ln,setContextMenuTarget:Ge,graphRef:Te,clusterRef:ze,coloring:ie,local:ce})}),(0,te.jsx)(d.Box,{position:"relative",zIndex:4,width:"100%",children:(0,te.jsx)(d.Flex,{className:"headerBar",h:10,flexDir:"column",children:(0,te.jsx)(d.Flex,{alignItems:"center",h:10,justifyContent:"flex-end",children:(0,te.jsxs)(d.Flex,{height:"100%",flexDirection:"row",children:[j.nodeIds.length>0&&(0,te.jsx)(u.u,{label:"Return to main graph",children:(0,te.jsx)(h.IconButton,{m:1,icon:(0,te.jsx)(m.DvO,{}),"aria-label":"Exit local mode",onClick:function(){return b((function(e){return Qt(Qt({},e),{},{nodeIds:[]})}))},variant:"subtle"})}),(0,te.jsx)(u.u,{label:Se?"Close sidebar":"Open sidebar",children:(0,te.jsx)(h.IconButton,{m:1,icon:(0,te.jsx)(C.iBV,{}),"aria-label":"Close file-viewer",variant:"subtle",onClick:Se?Ne:Ie})})]})})})}),(0,te.jsx)(d.Box,{position:"relative",zIndex:4,children:(0,te.jsx)(Zn,{isOpen:Se,onOpen:Ie,onClose:Ne,previewNode:me,setPreviewNode:pe,canUndo:be,canRedo:ye,previousPreviewNode:je,nextPreviewNode:ve,resetPreviewNode:xe,setSidebarHighlightedNode:we,openContextMenu:Ye,scope:j,setScope:b,windowWidth:Ve,tagColors:g,setTagColors:f,filter:P,setFilter:D,macros:Ee.katexMacros,attachDir:Ee.attachDir||"",useInheritance:Ee.useInheritance||!1,nodeById:Pe.current,linksByNodeId:De.current,nodeByCite:Be.current})}),$e.isOpen&&(0,te.jsx)("div",{ref:Ue,children:(0,te.jsx)(ge,{scope:j,target:Xe,background:!1,coordinates:Je,handleLocal:nn,menuClose:$e.onClose.bind($e),webSocket:We.current,setPreviewNode:pe,setFilter:D,filter:P,setTagColors:f,tagColors:g})})]})})}var nr=function(e){var n=e.graphRef,t=e.physics,s=e.graphData,a=e.threeDim,u=e.linksByNodeId,h=e.filter,p=e.emacsNodeId,j=e.nodeById,b=e.visuals,m=e.behavior,C=e.mouse,w=e.scope,k=e.local,S=(e.setScope,e.webSocket),I=e.tagColors,N=e.setPreviewNode,P=e.sidebarHighlightedNode,D=e.windowWidth,L=e.windowHeight,T=(e.setContextMenuTarget,e.openContextMenu),F=e.contextMenu,E=e.handleLocal,z=e.variables,R=e.clusterRef,Z=e.coloring,W=z.dailyDir,A=(z.roamDir,(0,v.useState)(null)),M=A[0],V=A[1],U=(0,g.Fg)(),q=(0,v.useContext)(en.N).emacsTheme,X=function(e,n,t){switch(e){case C.preview:N(n);break;case C.local:E(n,m.localSame);break;case C.follow:_(n,S);break;case C.context:T(n,t)}},G=(0,v.useRef)(null);(0,v.useEffect)((function(){p&&V(j[p])}),[p]);var Q=(0,v.useRef)({}),J=(0,v.useRef)({}),K=(0,v.useMemo)((function(){var e;J.current={};var n=null===s||void 0===s||null===(e=s.nodes)||void 0===e?void 0:e.filter((function(e){var n,t,r,i,l=e;return h.dirsBlocklist.length&&h.dirsBlocklist.some((function(e){var n;return null===l||void 0===l||null===(n=l.file)||void 0===n?void 0:n.includes(e)}))||h.dirsAllowlist.length>0&&!h.dirsAllowlist.some((function(e){var n;return null===l||void 0===l||null===(n=l.file)||void 0===n?void 0:n.includes(e)}))||h.tagsBlacklist.length&&h.tagsBlacklist.some((function(e){var n;return(null===l||void 0===l||null===(n=l.tags)||void 0===n?void 0:n.indexOf(e))>-1}))||h.tagsWhitelist.length>0&&!h.tagsWhitelist.some((function(e){var n;return(null===l||void 0===l||null===(n=l.tags)||void 0===n?void 0:n.indexOf(e))>-1}))||h.filelessCites&&null!==l&&void 0!==l&&null!==(n=l.properties)&&void 0!==n&&n.FILELESS||null!==h&&void 0!==h&&h.bad&&null!==l&&void 0!==l&&null!==(t=l.properties)&&void 0!==t&&t.bad||h.dailies&&W&&null!==(r=l.file)&&void 0!==r&&r.includes(W)?(J.current=Qt(Qt({},J.current),{},(0,o.Z)({},l.id,l)),!1):!h.noter||null===(i=l.properties)||void 0===i||!i.NOTER_PAGE||(J.current=Qt(Qt({},J.current),{},(0,o.Z)({},l.id,l)),!1)})).filter((function(e){var n,t=(null!==(n=u[null===e||void 0===e?void 0:e.id])&&void 0!==n?n:[]).filter((function(e){return!J.current[e.source]&&!J.current[e.target]}));return!h.orphans||(h.parent?0!==t.length:0!==t.length&&t.some((function(e){return!["parent","heading"].includes(e.type)})))})),t=n.map((function(e){return e.id})),r=s.links.filter((function(e){var n=yn(e),r=(0,l.Z)(n,2),i=r[0],o=r[1];if(!t.includes(i)||!t.includes(o))return!1;var s=e;return h.parent?"heading"===h.parent?"parent"!==s.type:"heading"!==s.type:!["parent","heading"].includes(s.type)}));Q.current=r.reduce((function(e,n){var t,r,s,c=n,a=yn(c),d=(0,l.Z)(a,2),u=d[0],h=d[1];return Qt(Qt({},e),{},(s={},(0,o.Z)(s,u,[].concat((0,i.Z)(null!==(t=e[u])&&void 0!==t?t:[]),[c])),(0,o.Z)(s,h,[].concat((0,i.Z)(null!==(r=e[h])&&void 0!==r?r:[]),[c])),s))}),{});var c=r.map((function(e){var n=yn(e),t=(0,l.Z)(n,2);return{target:t[0],source:t[1],weight:"cite"===e.type?1:2}}));if("community"===Z.method){var a=y()().nodes(t).edges(c);R.current=a()}return{nodes:n,links:r}}),[h,s,Z.method]),$=(0,v.useState)({nodes:[],links:[]}),Y=$[0],ee=$[1];(0,v.useEffect)((function(){if(w.nodeIds.length){var e=w.nodeIds.length>1?Y.nodes.filter((function(e){return!w.excludedNodeIds.includes(e.id)})):[],n=e.map((function(e){return e.id})),t=function(e){var n=e.ids,t=e.excludedIds,r=e.n,i=e.linksByNodeId,o=[n[0]],s=[],c=[n[0]];return Array.from({length:r},(function(){o.forEach((function(e){var n;(null!==(n=i[e])&&void 0!==n?n:[]).forEach((function(e){var n=yn(e),r=(0,l.Z)(n,2),i=r[0],o=r[1];t.some((function(e){return[i,o].includes(e)}))||(c.includes(i)?c.includes(o)||s.push(o):s.push(i))}))})),o=s,s.forEach((function(e){return e&&c.push(e)})),s=[]})),c}({ids:w.nodeIds,excludedIds:w.excludedNodeIds,n:k.neighbors,linksByNodeId:Q.current}),r=K.nodes.filter((function(r){var i;return e.length?!n.includes(r.id)&&(null!==(i=Q.current[r.id])&&void 0!==i?i:[]).some((function(e){var n=yn(e),t=(0,l.Z)(n,2),r=t[0],i=t[1];return!w.excludedNodeIds.includes(r)&&!w.excludedNodeIds.includes(i)&&(w.nodeIds.includes(r)||w.nodeIds.includes(i))})):t.includes(r.id)})).map((function(e){return Qt(Qt({},e),{},{x:0,y:0,vy:0,vx:0})})),o=[].concat((0,i.Z)(e),(0,i.Z)(r)),s=o.map((function(e){return e.id})),c=(w.nodeIds.length>1?Y.links:[]).filter((function(e){w.excludedNodeIds.some((function(n){return yn(e).includes(n)}))})),a=K.links.filter((function(e){var t=yn(e),r=(0,l.Z)(t,2),i=r[0],o=r[1];return!(c.length&&n.includes(o)&&n.includes(i))&&(s.includes(i)&&s.includes(o))})).map((function(e){var n=yn(e),t=(0,l.Z)(n,2);return{source:t[0],target:t[1]}})),d=[].concat((0,i.Z)(c),(0,i.Z)(a));ee({nodes:o,links:d})}}),[k.neighbors,h,w,w.excludedNodeIds,w.nodeIds,s,K.links,K.nodes]),(0,v.useEffect)((function(){(0,r.Z)(c().mark((function e(){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.current,e.next=3,Jt;case 3:i=e.sent,!t.gravityOn||w.nodeIds.length&&!t.gravityLocal?(r.d3Force("x",null),r.d3Force("y",null),a&&r.d3Force("z",null)):(r.d3Force("x",i.forceX().strength(t.gravity)),r.d3Force("y",i.forceY().strength(t.gravity)),a&&r.d3Force("z",i.forceZ().strength(t.gravity))),t.centering?r.d3Force("center",i.forceCenter().strength(t.centeringStrength)):r.d3Force("center",null),t.linkStrength&&r.d3Force("link").strength(t.linkStrength),t.linkIts&&r.d3Force("link").iterations(t.linkIts),t.charge&&r.d3Force("charge").strength(t.charge),r.d3Force("collide",t.collision?i.forceCollide().radius(t.collisionStrength):null);case 10:case"end":return e.stop()}}),e)})))()}),[t,a,w]),(0,v.useEffect)((function(){var e;null===(e=n.current)||void 0===e||e.d3ReheatSimulation()}),[t,w.nodeIds.length]);var ne=(0,v.useRef)(0),re=(0,v.useState)(1),ie=re[0],oe=re[1],le=(0,f._7)((function(e){return oe(e)}),{duration:b.animationSpeed,algorithm:B[b.algorithmName]}),se=(0,l.Z)(le,2),ce=se[0],ae=se[1],de=(0,f._7)((function(e){return oe(Math.min(ie,-1*(e-1)))}),{duration:b.animationSpeed,algorithm:B[b.algorithmName]}),ue=(0,l.Z)(de,2),he=ue[0],ge=ue[1],fe=(0,v.useMemo)((function(){var e;if(!G.current)return{};var n=Q.current[G.current.id];return n?Object.fromEntries([null===(e=G.current)||void 0===e?void 0:e.id].concat((0,i.Z)(n.flatMap((function(e){return[e.source,e.target]})))).map((function(e){return[e,{}]}))):{}}),[G.current,Q.current]);(0,v.useEffect)((function(){null!==P&&void 0!==P&&P.id?V(P):V(null)}),[P]);var pe=(0,v.useRef)(null);(0,v.useEffect)((function(){if(G.current=M,M&&(pe.current=M),!b.highlightAnim)return oe(M?1:0);M?ce():(ae(),ie>.5?he():oe(0))}),[M]);var xe=(0,v.useMemo)((function(){return Object.fromEntries(H.map((function(e){var n=ln(e,U),t=H.map((function(e){return[e,x.Z(n,ln(e,U))]}));return[e,Object.fromEntries(t)]})))}),[q]),je=(0,v.useMemo)((function(){var e,n,t,r=null!==(e=Q.current[null===(n=pe.current)||void 0===n?void 0:n.id])&&void 0!==e?e:[];return Object.fromEntries([null===(t=pe.current)||void 0===t?void 0:t.id].concat((0,i.Z)(r.flatMap((function(e){return yn(e)})))).map((function(e){return[e,{}]})))}),[JSON.stringify(M),pe.current,Q.current]),ve=(0,v.useMemo)((function(){return ln(b.labelTextColor,U)}),[b.labelTextColor,q]),be=(0,v.useMemo)((function(){return ln(b.labelBackgroundColor,U)}),[b.labelBackgroundColor,q]),ye=(0,v.useState)(!1),me=ye[0],Ce=ye[1],Oe=(0,v.useRef)(1),we={graphData:w.nodeIds.length?Y:K,width:D,height:L,backgroundColor:ln(b.backgroundColor,U),warmupTicks:1===w.nodeIds.length?100:w.nodeIds.length>1?20:0,onZoom:function(e){var n=e.k;e.x,e.y;return Oe.current=n},nodeColor:function(e){return function(e){var n,t,r=e.node,i=e.theme,o=e.highlightedNodes,l=e.previouslyHighlightedNodes,s=e.visuals,c=e.tagColors,a=e.highlightColors,d=e.opacity,u=e.emacsNodeId,h=e.linksByNodeId,g=e.cluster,f=e.coloring,p=o[r.id]||l[r.id];if(s.emacsNodeColor&&r.id===u)return ln(s.emacsNodeColor,i);if(c&&null!==r&&void 0!==r&&r.tags.some((function(e){return c[e]}))){var x=c[null===r||void 0===r?void 0:r.tags.filter((function(e){return c[e]}))[0]];return p?a[x][x](s.highlightFade*d):a[x][s.backgroundColor](s.highlightFade*d)}return s.citeNodeColor&&null!==r&&void 0!==r&&null!==(n=r.properties)&&void 0!==n&&n.ROAM_REFS&&null!==r&&void 0!==r&&null!==(t=r.properties)&&void 0!==t&&t.FILELESS?p?ln(s.citeNodeColor,i):a[s.citeNodeColor][s.backgroundColor](s.highlightFade*d):s.refNodeColor&&r.properties.ROAM_REFS?p?ln(s.refNodeColor,i):a[s.refNodeColor][s.backgroundColor](s.highlightFade*d):p?s.nodeHighlight?a[Ut({id:r.id,cluster:g,coloring:f,linksByNodeId:h,visuals:s})][s.nodeHighlight](d):ln(Ut({id:r.id,cluster:g,coloring:f,linksByNodeId:h,visuals:s}),i):a[Ut({id:r.id,cluster:g,coloring:f,linksByNodeId:h,visuals:s})][s.backgroundColor](s.highlightFade*d)}({node:e,theme:U,visuals:b,cluster:R.current,coloring:Z,emacsNodeId:p,highlightColors:xe,highlightedNodes:fe,previouslyHighlightedNodes:je,linksByNodeId:Q.current,opacity:ie,tagColors:I})},nodeRelSize:b.nodeRel,nodeVal:function(e){return Mt({node:e,highlightedNodes:fe,linksByNodeId:Q.current,opacity:ie,previouslyHighlightedNodes:je,visuals:b})/Math.pow(Oe.current,b.nodeZoomSize)},nodeCanvasObject:function(e,n,t){_t(Qt({nodeRel:b.nodeRel,filteredLinksByNodeId:Q.current,lastHoverNode:pe.current},{node:e,ctx:n,globalScale:t,highlightedNodes:fe,previouslyHighlightedNodes:je,visuals:b,opacity:ie,labelTextColor:ve,labelBackgroundColor:be,hoverNode:M}))},nodeCanvasObjectMode:function(){return"after"},linkDirectionalParticles:b.particles?b.particlesNumber:void 0,linkDirectionalArrowLength:b.arrows?b.arrowsLength:void 0,linkDirectionalArrowRelPos:b.arrowsPos,linkDirectionalArrowColor:b.arrowsColor?function(){return ln(b.arrowsColor,U)}:void 0,linkColor:function(e){var n,t="object"===typeof e.source?e.source.id:e.source,r="object"===typeof e.target?e.target.id:e.target,i=qt(e,G.current),o=qt(e,pe.current),l=i||o,s=e;return b.refLinkColor&&"ref"===s.type?l&&(b.refLinkHighlightColor||b.linkHighlight)?xe[b.refLinkColor][b.refLinkHighlightColor||b.linkHighlight](ie):xe[b.refLinkColor][b.backgroundColor](b.highlightFade*ie):b.citeLinkColor&&null!==(n=s.type)&&void 0!==n&&n.includes("cite")?l&&(b.citeLinkHighlightColor||b.linkHighlight)?xe[b.citeLinkColor][b.citeLinkHighlightColor||b.linkHighlight](ie):xe[b.citeLinkColor][b.backgroundColor](b.highlightFade*ie):function(e){var n=e.sourceId,t=e.targetId,r=e.needsHighlighting,i=e.theme,o=e.visuals,l=e.highlightColors,s=e.opacity,c=e.linksByNodeId,a=e.coloring,d=e.cluster;if(!o.linkHighlight&&!o.linkColorScheme&&!r){var u=Xt({sourceId:n,targetId:t,linksByNodeId:c,visuals:o,coloring:a,cluster:d});return ln(u,i)}if(!r&&!o.linkColorScheme)return l[Xt({sourceId:n,targetId:t,linksByNodeId:c,visuals:o,coloring:a,cluster:d})][o.backgroundColor](o.highlightFade*s);if(!r)return l[o.linkColorScheme][o.backgroundColor](o.highlightFade*s);if(!o.linkHighlight&&!o.linkColorScheme){var h=Xt({sourceId:n,targetId:t,linksByNodeId:c,visuals:o,coloring:a,cluster:d});return ln(h,i)}return o.linkHighlight?o.linkColorScheme?l[o.linkColorScheme][o.linkHighlight](s):l[Xt({sourceId:n,targetId:t,linksByNodeId:c,visuals:o,coloring:a,cluster:d})][o.linkHighlight](s):ln(o.linkColorScheme,i)}({sourceId:t,targetId:r,needsHighlighting:l,theme:U,cluster:R.current,coloring:Z,highlightColors:xe,linksByNodeId:Q.current,opacity:ie,visuals:b})},linkWidth:function(e){if(1===b.highlightLinkSize)return b.linkWidth;var n=qt(e,G.current),t=qt(e,pe.current);return n||t?b.linkWidth*(1+ie*(b.highlightLinkSize-1)):b.linkWidth},linkDirectionalParticleWidth:b.particlesWidth,d3AlphaDecay:t.alphaDecay,d3AlphaMin:t.alphaMin,d3VelocityDecay:t.velocityDecay,onNodeClick:function(e,n){var t=e,r=n.timeStamp-ne.current<200;if(ne.current=n.timeStamp,r)return X("double",t,n);var i=ne.current;return setTimeout((function(){if(ne.current===i)return X("click",t,n)}),200)},onNodeHover:function(e){b.highlight&&(me||(M||(ge(),oe(0)),V(e)))},onNodeRightClick:function(e,n){X("right",e,n)},onNodeDrag:function(e){V(e),Ce(!0)},onNodeDragEnd:function(){V(null),Ce(!1)}};return(0,te.jsx)(d.Box,{overflow:"hidden",onClick:F.onClose,children:a?(0,te.jsx)($t,Qt(Qt({ref:n},we),{},{nodeThreeObjectExtend:!0,nodeOpacity:b.nodeOpacity,nodeResolution:b.nodeResolution,linkOpacity:b.linkOpacity,nodeThreeObject:function(e){if(b.labels&&(!(b.labels<3)||fe[e.id])){var n=new O.Z(e.title.substring(0,40));return n.color=ln(b.labelTextColor,U),n.backgroundColor=ln(b.labelBackgroundColor,U),n.padding=2,n.textHeight=8,n}}})):(0,te.jsx)(Kt,Qt(Qt({ref:n},we),{},{linkLineDash:function(e){var n,t=e;return b.citeDashes&&null!==(n=t.type)&&void 0!==n&&n.includes("cite")?[b.citeDashLength,b.citeGapLength]:b.refDashes&&"ref"==t.type?[b.refDashLength,b.refGapLength]:null}}))})}},45301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(46587)}])}},function(e){e.O(0,[774,737,876,228,866,13,874,573,446,676,888,179],(function(){return n=45301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);